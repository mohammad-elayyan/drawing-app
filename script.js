const _0x25ea7c=_0x1609;(function(_0x205db6,_0x1f697b){const _0x4746e1=_0x1609,_0x1b6c0c=_0x205db6();while(!![]){try{const _0x167cc5=parseInt(_0x4746e1(0x225))/0x1+parseInt(_0x4746e1(0x275))/0x2+parseInt(_0x4746e1(0x1d2))/0x3*(parseInt(_0x4746e1(0x25e))/0x4)+parseInt(_0x4746e1(0x1dd))/0x5*(-parseInt(_0x4746e1(0x1bc))/0x6)+parseInt(_0x4746e1(0x269))/0x7+-parseInt(_0x4746e1(0x1f4))/0x8*(parseInt(_0x4746e1(0x27e))/0x9)+parseInt(_0x4746e1(0x271))/0xa;if(_0x167cc5===_0x1f697b)break;else _0x1b6c0c['push'](_0x1b6c0c['shift']());}catch(_0x34ea7a){_0x1b6c0c['push'](_0x1b6c0c['shift']());}}}(_0x1fa6,0x5a43a));const canvas=document[_0x25ea7c(0x1ab)](_0x25ea7c(0x1d8)),homePage=document[_0x25ea7c(0x1ab)](_0x25ea7c(0x279)),colorsTool=document[_0x25ea7c(0x1ea)](_0x25ea7c(0x23f))['children'][0x0],shapesTool=document['getElementById'](_0x25ea7c(0x268))[_0x25ea7c(0x256)][0x0],toolBtns=document['querySelectorAll'](_0x25ea7c(0x23c)),clearCanvasBtn=document[_0x25ea7c(0x1ab)]('.clear-canvas'),saveImg=document[_0x25ea7c(0x1ab)](_0x25ea7c(0x264)),addImg=document[_0x25ea7c(0x1ab)](_0x25ea7c(0x1cf)),ctx=canvas['getContext']('2d'),undoBtn=document['querySelector'](_0x25ea7c(0x226)),redoBtn=document[_0x25ea7c(0x1ab)]('.redo'),pipe=document[_0x25ea7c(0x1ab)](_0x25ea7c(0x20c)),toolsBoard=document[_0x25ea7c(0x1ab)](_0x25ea7c(0x1f3)),popupBtns=document['querySelectorAll']('.popup-btn'),insidePanel=document[_0x25ea7c(0x1ab)]('.inside-panel');let prevMouseX,fillColor,sizeSlider,prevMouseY,prevTool='',newMouseX,newMouseY,snapshot,elements=[],undoStack=[],redoStack=[],isDrawing=![],selectedTool=_0x25ea7c(0x1a8),brushWidth=0x5,eraserWidth=0x5,fillValue=![],isSaved=![],cursorSize=0x5,selectedColor=_0x25ea7c(0x1c3);const reader=new FileReader(),stage=new createjs['Stage'](_0x25ea7c(0x1d8)),fileInput=document['getElementById']('fileInput'),setHomeFunc=()=>{const _0x365f68=document['querySelectorAll']('.home');_0x365f68['forEach'](_0x57bbbc=>{const _0x483989=_0x1609;_0x57bbbc[_0x483989(0x201)]=()=>{const _0x2baf58=_0x483989,_0x1d42f9=document[_0x2baf58(0x1ab)]('.home-page');if(_0x1d42f9)_0x1d42f9['remove']();else{setCanvasBackground(),currDrawing='';const _0x4c8e7b=document[_0x2baf58(0x26a)](_0x2baf58(0x1d3));_0x4c8e7b['className']='home-page',_0x4c8e7b[_0x2baf58(0x1aa)]=_0x2baf58(0x20d),document[_0x2baf58(0x25c)][_0x2baf58(0x1ef)](_0x4c8e7b),setHomePageBtns();}};});},setHomePageBtns=()=>{const _0x32254a=_0x25ea7c,_0x55ac22=document['querySelectorAll'](_0x32254a(0x1e0)),_0x18fb28=document[_0x32254a(0x1ab)](_0x32254a(0x279));_0x55ac22['forEach']((_0x1f5adf,_0x1df4d2)=>{const _0x339025=_0x32254a;_0x1f5adf[_0x339025(0x201)]=()=>{const _0x2ef7ec=_0x339025;switch(_0x1df4d2){case 0x0:_0x18fb28[_0x2ef7ec(0x249)]();break;case 0x1:_0x18fb28[_0x2ef7ec(0x256)][0x1][_0x2ef7ec(0x249)](),_0x18fb28[_0x2ef7ec(0x1aa)]=_0x2ef7ec(0x205);const _0x21ad87=document[_0x2ef7ec(0x221)](_0x2ef7ec(0x1eb)),_0x3f9fca=document['getElementById'](_0x2ef7ec(0x216));_0x21ad87['forEach'](_0x2dee1b=>{const _0x3de35d=_0x2ef7ec;_0x2dee1b[_0x3de35d(0x1ba)]('click',()=>{const _0x58de26=_0x3de35d;let _0xf80ed3=_0x2dee1b[_0x58de26(0x232)][_0x58de26(0x218)]('/');_0xf80ed3[_0x58de26(0x1e7)](_0xf80ed3[_0x58de26(0x274)]-0x1,0x1,_0x2dee1b['id']+'.png'),_0xf80ed3=_0xf80ed3['toString']()[_0x58de26(0x236)](',','/');const _0xca4b2f=new Image();_0xca4b2f[_0x58de26(0x232)]=_0xf80ed3,_0xca4b2f['onload']=function(){const _0x191380=_0x58de26;readImage(_0xca4b2f),_0x18fb28[_0x191380(0x249)]();};});});break;default:break;}setHomeFunc();};});};setHomePageBtns();const setCanvasBackground=()=>{const _0x5ddd15=_0x25ea7c;ctx[_0x5ddd15(0x24a)]=_0x5ddd15(0x20f),ctx[_0x5ddd15(0x23e)](0x0,0x0,canvas[_0x5ddd15(0x20a)],canvas[_0x5ddd15(0x1e8)]),ctx[_0x5ddd15(0x24a)]=selectedColor;};let drawings=[];localStorage[_0x25ea7c(0x214)](_0x25ea7c(0x21f))&&(drawings=JSON[_0x25ea7c(0x1b4)](localStorage[_0x25ea7c(0x214)](_0x25ea7c(0x21f))));let currDrawing='';const saveDrawings=()=>{const _0x6ad237=_0x25ea7c;if(undoStack['length']==0x0){openModel(()=>{},{'icon':_0x6ad237(0x1c7),'h1':_0x6ad237(0x266),'btns':{'btn1':_0x6ad237(0x230)}});return;}isSaved=!![],drawings=JSON[_0x6ad237(0x1b4)](localStorage[_0x6ad237(0x214)](_0x6ad237(0x21f))),canvas[_0x6ad237(0x1f6)](function(_0x3286d5){const _0x1484bf=_0x6ad237;reader['readAsDataURL'](_0x3286d5),reader[_0x1484bf(0x1ac)]=()=>{const _0x47b27f=_0x1484bf;let _0x40f5a1='d'+_0x3286d5['size']+'-'+performance['now']()/0x3e8,_0x1f2607=[];if(drawings['length']){for(let _0x4dcb95=0x0;_0x4dcb95<drawings[_0x47b27f(0x274)];_0x4dcb95++){_0x1f2607[_0x47b27f(0x210)](drawings[_0x4dcb95][0x0]),currDrawing&&drawings[_0x4dcb95][0x0]==currDrawing&&(drawings[_0x4dcb95][0x1]=reader['result']);}_0x1f2607['indexOf'](currDrawing)===-0x1&&drawings[_0x47b27f(0x210)]([_0x40f5a1,reader['result']]),localStorage[_0x47b27f(0x244)](_0x47b27f(0x21f),JSON[_0x47b27f(0x1c0)](drawings)),openModel(()=>{},{'icon':_0x47b27f(0x21c),'h1':_0x47b27f(0x1b0),'btns':{'btn1':_0x47b27f(0x230)}});}else drawings['push']([_0x40f5a1,reader[_0x47b27f(0x1b7)]]),localStorage[_0x47b27f(0x244)](_0x47b27f(0x21f),JSON[_0x47b27f(0x1c0)](drawings)),openModel(()=>{},{'icon':_0x47b27f(0x21c),'h1':_0x47b27f(0x1b0),'btns':{'btn1':_0x47b27f(0x230)}});};});};window[_0x25ea7c(0x1ba)](_0x25ea7c(0x1d9),()=>{const _0x23643a=_0x25ea7c;canvas[_0x23643a(0x20a)]=canvas[_0x23643a(0x1c8)],canvas[_0x23643a(0x1e8)]=canvas[_0x23643a(0x26b)],setCanvasBackground();});const drawRect=_0x152826=>{const _0x19111e=_0x25ea7c;let _0x2dbfc2=_0x152826['target'][_0x19111e(0x21a)]();_0x19111e(0x25d)in window||window[_0x19111e(0x1d7)]&&document instanceof DocumentTouch?(newMouseX=_0x152826[_0x19111e(0x212)][0x0]?.[_0x19111e(0x1d1)]-_0x2dbfc2[_0x19111e(0x276)],newMouseY=_0x152826[_0x19111e(0x212)][0x0]?.[_0x19111e(0x219)]-_0x2dbfc2[_0x19111e(0x1bf)]):(newMouseX=_0x152826[_0x19111e(0x1e2)],newMouseY=_0x152826['offsetY']);if(!fillColor[_0x19111e(0x1c6)])return ctx[_0x19111e(0x1ff)](newMouseX,newMouseY,prevMouseX-newMouseX,prevMouseY-newMouseY);ctx['fillRect'](newMouseX,newMouseY,prevMouseX-newMouseX,prevMouseY-newMouseY);},drawCircle=_0x34d9c4=>{const _0x3d8f0f=_0x25ea7c;let _0x1e5c57=_0x34d9c4['target'][_0x3d8f0f(0x21a)]();_0x3d8f0f(0x25d)in window||window[_0x3d8f0f(0x1d7)]&&document instanceof DocumentTouch?(newMouseX=_0x34d9c4[_0x3d8f0f(0x212)][0x0]?.['pageX']-_0x1e5c57[_0x3d8f0f(0x276)],newMouseY=_0x34d9c4[_0x3d8f0f(0x212)][0x0]?.[_0x3d8f0f(0x219)]-_0x1e5c57[_0x3d8f0f(0x1bf)]):(newMouseX=_0x34d9c4[_0x3d8f0f(0x1e2)],newMouseY=_0x34d9c4[_0x3d8f0f(0x1d5)]);ctx[_0x3d8f0f(0x1f0)]();let _0x505b9f=Math[_0x3d8f0f(0x1df)](Math['pow'](prevMouseX-newMouseX,0x2)+Math[_0x3d8f0f(0x22b)](prevMouseY-newMouseY,0x2));ctx[_0x3d8f0f(0x246)](prevMouseX,prevMouseY,_0x505b9f,0x0,0x2*Math['PI']),fillColor['checked']?ctx[_0x3d8f0f(0x24b)]():ctx['stroke'](),elements['push']({'x':prevMouseX,'y':prevMouseY,'radius':_0x505b9f,'start':0x0,'end':0x2*Math['PI']});},drawTriangle=_0x230f30=>{const _0x12bb83=_0x25ea7c;let _0x1a043c=_0x230f30[_0x12bb83(0x22d)][_0x12bb83(0x21a)]();_0x12bb83(0x25d)in window||window[_0x12bb83(0x1d7)]&&document instanceof DocumentTouch?(newMouseX=_0x230f30['targetTouches'][0x0]?.[_0x12bb83(0x1d1)]-_0x1a043c['left'],newMouseY=_0x230f30[_0x12bb83(0x212)][0x0]?.[_0x12bb83(0x219)]-_0x1a043c[_0x12bb83(0x1bf)]):(newMouseX=_0x230f30[_0x12bb83(0x1e2)],newMouseY=_0x230f30[_0x12bb83(0x1d5)]),ctx[_0x12bb83(0x1f0)](),ctx[_0x12bb83(0x1c2)](prevMouseX,prevMouseY),ctx['lineTo'](newMouseX,newMouseY),ctx[_0x12bb83(0x25f)](prevMouseX*0x2-newMouseX,newMouseY),ctx[_0x12bb83(0x1ce)](),fillColor['checked']?ctx[_0x12bb83(0x24b)]():ctx[_0x12bb83(0x1d6)]();},drawStar=_0x7a5f34=>{const _0x5862c1=_0x25ea7c;let _0xe57f62=_0x7a5f34[_0x5862c1(0x22d)]['getBoundingClientRect'](),_0x24b18c=Math['PI']/0x2*0x3,_0x3acf70=0x5,_0x1e3664=Math['PI']/_0x3acf70;'ontouchstart'in window||window[_0x5862c1(0x1d7)]&&document instanceof DocumentTouch?(newMouseX=_0x7a5f34[_0x5862c1(0x212)][0x0]?.[_0x5862c1(0x1d1)]-_0xe57f62['left'],newMouseY=_0x7a5f34[_0x5862c1(0x212)][0x0]?.['pageY']-_0xe57f62[_0x5862c1(0x1bf)]):(newMouseX=_0x7a5f34[_0x5862c1(0x1e2)],newMouseY=_0x7a5f34[_0x5862c1(0x1d5)]);const _0x2d9aac=newMouseX-prevMouseX,_0x3b2492=newMouseY-prevMouseY,_0x4fda34=Math[_0x5862c1(0x1df)](_0x2d9aac*_0x2d9aac+_0x3b2492*_0x3b2492);ctx['beginPath'](),ctx[_0x5862c1(0x1c2)](prevMouseX,prevMouseY-_0x4fda34);for(i=0x0;i<_0x3acf70;i++){x=prevMouseX+Math[_0x5862c1(0x211)](_0x24b18c)*_0x4fda34,y=prevMouseY+Math[_0x5862c1(0x22f)](_0x24b18c)*_0x4fda34,ctx[_0x5862c1(0x25f)](x,y),_0x24b18c+=_0x1e3664,x=prevMouseX+Math[_0x5862c1(0x211)](_0x24b18c)*_0x4fda34/0x2,y=prevMouseY+Math[_0x5862c1(0x22f)](_0x24b18c)*_0x4fda34/0x2,ctx[_0x5862c1(0x25f)](x,y),_0x24b18c+=_0x1e3664;}ctx['lineTo'](prevMouseX,prevMouseY-_0x4fda34),ctx['closePath'](),fillColor[_0x5862c1(0x1c6)]?ctx['fill']():ctx[_0x5862c1(0x1d6)]();},drawHexagon=_0x14b07a=>{const _0x246cf3=_0x25ea7c;let _0x4e1898=_0x14b07a['target'][_0x246cf3(0x21a)]();'ontouchstart'in window||window[_0x246cf3(0x1d7)]&&document instanceof DocumentTouch?(newMouseX=_0x14b07a['targetTouches'][0x0]?.[_0x246cf3(0x1d1)]-_0x4e1898[_0x246cf3(0x276)],newMouseY=_0x14b07a[_0x246cf3(0x212)][0x0]?.[_0x246cf3(0x219)]-_0x4e1898[_0x246cf3(0x1bf)]):(newMouseX=_0x14b07a[_0x246cf3(0x1e2)],newMouseY=_0x14b07a[_0x246cf3(0x1d5)]);let _0x25f7a1=(prevMouseX+newMouseX)/0x2,_0x47231d=(prevMouseY+newMouseY)/0x2,_0x1a595f=Math['sqrt']((newMouseX-prevMouseX)**0x2+(newMouseY-prevMouseY)**0x2)/0x2,_0x26b8c7=Math['PI']/0x6,_0x4c6d4e=Math['PI']/0x6+_0x26b8c7;ctx[_0x246cf3(0x1f0)](),ctx['moveTo'](_0x25f7a1+_0x1a595f*Math[_0x246cf3(0x211)](_0x4c6d4e),_0x47231d+_0x1a595f*Math[_0x246cf3(0x22f)](_0x4c6d4e));for(let _0x280ef8=0x1;_0x280ef8<=0x6;_0x280ef8++){let _0x2acea1=_0x4c6d4e+_0x280ef8*0x2*Math['PI']/0x6;ctx['lineTo'](_0x25f7a1+_0x1a595f*Math[_0x246cf3(0x211)](_0x2acea1),_0x47231d+_0x1a595f*Math[_0x246cf3(0x22f)](_0x2acea1));}ctx['closePath'](),fillColor[_0x246cf3(0x1c6)]?ctx[_0x246cf3(0x24b)]():ctx[_0x246cf3(0x1d6)]();},startDraw=_0x37bc39=>{const _0x399e05=_0x25ea7c;isSaved=![],isDrawing=!![],sizeSlider&&(sizeSlider[_0x399e05(0x1b3)][_0x399e05(0x1db)]['opacity']='0'),insidePanel['innerHTML']='';if(toolBtns[0x1][_0x399e05(0x1f1)][_0x399e05(0x238)](_0x399e05(0x1c5))&&prevTool==='')toolBtns[0x1]['classList']['remove'](_0x399e05(0x1c5)),toolBtns[0x0]['classList'][_0x399e05(0x1e4)]('active');else toolBtns[0x1][_0x399e05(0x1f1)][_0x399e05(0x238)](_0x399e05(0x1c5))&&prevTool===_0x399e05(0x268)&&(toolBtns[0x1][_0x399e05(0x1f1)][_0x399e05(0x249)](_0x399e05(0x1c5)),toolBtns[0x2][_0x399e05(0x1f1)][_0x399e05(0x1e4)](_0x399e05(0x1c5)));if(selectedTool===_0x399e05(0x1a8))toolBtns[0x0][_0x399e05(0x1f1)][_0x399e05(0x1e4)](_0x399e05(0x1c5)),toolBtns[0x2]['classList']['remove'](_0x399e05(0x1c5));else selectedTool===_0x399e05(0x213)&&(toolBtns[0x3]['classList'][_0x399e05(0x1e4)](_0x399e05(0x1c5)),toolBtns[0x2]['classList'][_0x399e05(0x249)](_0x399e05(0x1c5)));pipe[_0x399e05(0x1db)]['display']=_0x399e05(0x207);let _0x53e5a3=_0x37bc39[_0x399e05(0x22d)][_0x399e05(0x21a)]();_0x399e05(0x25d)in window||window[_0x399e05(0x1d7)]&&document instanceof DocumentTouch?(prevMouseX=_0x37bc39['targetTouches'][0x0]?.[_0x399e05(0x1d1)]-_0x53e5a3[_0x399e05(0x276)],prevMouseY=_0x37bc39['targetTouches'][0x0]?.[_0x399e05(0x219)]-_0x53e5a3['top']):(prevMouseX=_0x37bc39[_0x399e05(0x1e2)],prevMouseY=_0x37bc39[_0x399e05(0x1d5)]),ctx[_0x399e05(0x1f0)](),selectedTool===_0x399e05(0x213)?ctx[_0x399e05(0x267)]=eraserWidth:ctx['lineWidth']=brushWidth,ctx[_0x399e05(0x1e1)]=selectedColor,ctx[_0x399e05(0x24a)]=selectedColor,ctx[_0x399e05(0x25f)](prevMouseX-cursorSize/0x2,prevMouseY-cursorSize/0x2),ctx[_0x399e05(0x1d6)](),snapshot=ctx[_0x399e05(0x239)](0x0,0x0,canvas[_0x399e05(0x20a)],canvas[_0x399e05(0x1e8)]);},drawing=_0x4b551c=>{const _0x3c2cdf=_0x25ea7c;if(!isDrawing)return;ctx[_0x3c2cdf(0x24e)](snapshot,0x0,0x0);let _0x43a282=_0x4b551c[_0x3c2cdf(0x22d)]['getBoundingClientRect']();_0x3c2cdf(0x25d)in window||window[_0x3c2cdf(0x1d7)]&&document instanceof DocumentTouch?(newMouseX=_0x4b551c[_0x3c2cdf(0x212)][0x0]?.['pageX']-_0x43a282[_0x3c2cdf(0x276)],newMouseY=_0x4b551c[_0x3c2cdf(0x212)][0x0]?.[_0x3c2cdf(0x219)]-_0x43a282['top']):(newMouseX=_0x4b551c['offsetX'],newMouseY=_0x4b551c[_0x3c2cdf(0x1d5)]);if(selectedTool==='brush'||selectedTool===_0x3c2cdf(0x213))ctx[_0x3c2cdf(0x1e1)]=selectedTool==='eraser'?_0x3c2cdf(0x20f):selectedColor,ctx[_0x3c2cdf(0x25f)](newMouseX-cursorSize/0x2,newMouseY-cursorSize/0x2),ctx[_0x3c2cdf(0x270)]=_0x3c2cdf(0x263),ctx[_0x3c2cdf(0x1ca)]='round',ctx[_0x3c2cdf(0x1d6)]();else{if(selectedTool===_0x3c2cdf(0x27b))drawRect(_0x4b551c);else{if(selectedTool===_0x3c2cdf(0x257))drawCircle(_0x4b551c);else{if(selectedTool===_0x3c2cdf(0x1d4))drawTriangle(_0x4b551c);else{if(selectedTool===_0x3c2cdf(0x1b6))drawStar(_0x4b551c);else selectedTool===_0x3c2cdf(0x245)&&drawHexagon(_0x4b551c);}}}}};toolBtns['forEach']((_0x142720,_0x2ff2d6)=>{const _0x431610=_0x25ea7c;_0x142720['addEventListener'](_0x431610(0x217),()=>{const _0x1b5bfe=_0x431610;document[_0x1b5bfe(0x1ab)](_0x1b5bfe(0x1f8))['classList']['remove'](_0x1b5bfe(0x1c5)),_0x142720[_0x1b5bfe(0x1f1)]['add'](_0x1b5bfe(0x1c5)),insidePanel[_0x1b5bfe(0x1aa)]='';if(_0x2ff2d6===0x0)selectedTool=_0x142720['id'],prevTool='',insidePanel[_0x1b5bfe(0x1aa)]=_0x1b5bfe(0x1f5)+brushWidth+_0x1b5bfe(0x1ad)+brushWidth+_0x1b5bfe(0x1d0),pipe['style']['top']=_0x1b5bfe(0x208),pipe[_0x1b5bfe(0x1db)][_0x1b5bfe(0x206)]='block',sizeSlider=document['querySelector'](_0x1b5bfe(0x1a6)),sizeSlider['addEventListener'](_0x1b5bfe(0x241),()=>{const _0x2c4ccd=_0x1b5bfe;sizeSlider[_0x2c4ccd(0x1b3)][_0x2c4ccd(0x243)]=sizeSlider['value'],cursorSize=parseInt(sizeSlider[_0x2c4ccd(0x215)]),sizeSlider[_0x2c4ccd(0x1b3)][_0x2c4ccd(0x1db)][_0x2c4ccd(0x1c4)]=sizeSlider[_0x2c4ccd(0x215)]/0.601+'%',sizeSlider[_0x2c4ccd(0x1b3)]['style']['opacity']='1',brushWidth=sizeSlider[_0x2c4ccd(0x215)];}),sizeSlider[_0x1b5bfe(0x1ba)](_0x1b5bfe(0x1f9),()=>{const _0x295c09=_0x1b5bfe;sizeSlider[_0x295c09(0x1b3)][_0x295c09(0x1db)][_0x295c09(0x1fd)]='0';});else{if(_0x2ff2d6===0x1){insidePanel['innerHTML']=_0x1b5bfe(0x1dc),pipe['style'][_0x1b5bfe(0x1bf)]=_0x1b5bfe(0x1c1),pipe['style'][_0x1b5bfe(0x206)]=_0x1b5bfe(0x204);const _0x27780c=document[_0x1b5bfe(0x1ab)](_0x1b5bfe(0x261)),_0x5cf6db=document[_0x1b5bfe(0x221)]('.colors\x20.option');_0x5cf6db[_0x1b5bfe(0x21b)](_0x150bce=>{const _0x59d201=_0x1b5bfe;_0x150bce[_0x59d201(0x1ba)](_0x59d201(0x217),()=>{const _0x544656=_0x59d201;let _0x31f5b4=colorsTool[_0x544656(0x232)]['split']('/');_0x31f5b4['splice'](_0x31f5b4[_0x544656(0x274)]-0x1,0x1,_0x150bce['id']+_0x544656(0x1b8)),setTimeout(()=>{const _0x45d79d=_0x544656;colorsTool[_0x45d79d(0x232)]=_0x31f5b4[_0x45d79d(0x1fb)]()[_0x45d79d(0x236)](',','/');},0x1f4),spinningEffect(colorsTool),document[_0x544656(0x1ab)](_0x544656(0x1f7))?.['classList'][_0x544656(0x249)](_0x544656(0x227)),_0x150bce[_0x544656(0x1f1)][_0x544656(0x1e4)](_0x544656(0x227)),_0x150bce['id']!=_0x544656(0x1fc)?selectedColor=window[_0x544656(0x223)](_0x150bce)[_0x544656(0x203)](_0x544656(0x27d)):selectedColor=_0x27780c['value'];});}),_0x27780c[_0x1b5bfe(0x1ba)](_0x1b5bfe(0x1bb),()=>{const _0x39ff74=_0x1b5bfe;_0x27780c[_0x39ff74(0x1b9)][_0x39ff74(0x1db)]['color']=_0x27780c[_0x39ff74(0x215)],_0x142720[_0x39ff74(0x1db)]['color']=selectedColor,selectedColor=_0x27780c[_0x39ff74(0x215)];}),_0x27780c[_0x1b5bfe(0x215)]=selectedColor;}else{if(_0x2ff2d6===0x2){prevTool=_0x1b5bfe(0x268),insidePanel[_0x1b5bfe(0x1aa)]=_0x1b5bfe(0x22a),fillColor=document[_0x1b5bfe(0x1ab)]('#fill-color'),fillColor[_0x1b5bfe(0x1c6)]=fillValue,fillColor[_0x1b5bfe(0x1ba)](_0x1b5bfe(0x241),()=>{const _0x5eae9e=_0x1b5bfe;fillValue=fillColor[_0x5eae9e(0x1c6)];});const _0x52cc9d=document[_0x1b5bfe(0x221)](_0x1b5bfe(0x22e));_0x52cc9d[_0x1b5bfe(0x21b)](_0x253db7=>{const _0x211701=_0x1b5bfe;_0x253db7[_0x211701(0x1ba)](_0x211701(0x217),_0x22ab1=>{const _0x1381ff=_0x211701;let _0x5d78aa=shapesTool[_0x1381ff(0x232)][_0x1381ff(0x218)]('/');_0x5d78aa[_0x1381ff(0x1e7)](_0x5d78aa['length']-0x1,0x1,_0x253db7['id']+_0x1381ff(0x1b8)),setTimeout(()=>{const _0xa6aabb=_0x1381ff;shapesTool[_0xa6aabb(0x232)]=_0x5d78aa[_0xa6aabb(0x1fb)]()[_0xa6aabb(0x236)](',','/');},0x1f4),spinningEffect(shapesTool);if(_0x253db7['id']===_0x1381ff(0x257))selectedTool='circle';else{if(_0x253db7['id']===_0x1381ff(0x27b))selectedTool=_0x1381ff(0x27b);else{if(_0x253db7['id']===_0x1381ff(0x1d4))selectedTool=_0x1381ff(0x1d4);else{if(_0x253db7['id']===_0x1381ff(0x1b6))selectedTool=_0x1381ff(0x1b6);else _0x253db7['id']===_0x1381ff(0x245)&&(selectedTool=_0x1381ff(0x245));}}}});}),pipe[_0x1b5bfe(0x1db)]['top']=_0x1b5bfe(0x24d),pipe[_0x1b5bfe(0x1db)]['display']=_0x1b5bfe(0x204);}else _0x2ff2d6===0x3&&(selectedTool=_0x142720['id'],prevTool='',insidePanel[_0x1b5bfe(0x1aa)]='<ul\x20class=\x22options\x22><li\x20class=\x22option\x20slider\x22>\x0a\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20id=\x22eraser-size\x22\x20min=\x221\x22\x20max=\x2250\x22\x20value=\x22'+eraserWidth+_0x1b5bfe(0x1ad)+eraserWidth+_0x1b5bfe(0x240),pipe[_0x1b5bfe(0x1db)][_0x1b5bfe(0x1bf)]=_0x1b5bfe(0x259),pipe[_0x1b5bfe(0x1db)][_0x1b5bfe(0x206)]=_0x1b5bfe(0x204),sizeSlider=document[_0x1b5bfe(0x1ab)](_0x1b5bfe(0x26e)),sizeSlider[_0x1b5bfe(0x1ba)](_0x1b5bfe(0x241),()=>{const _0x28d7c0=_0x1b5bfe;sizeSlider[_0x28d7c0(0x1b3)]['innerText']=sizeSlider[_0x28d7c0(0x215)],sizeSlider['nextElementSibling'][_0x28d7c0(0x1db)][_0x28d7c0(0x1c4)]=sizeSlider[_0x28d7c0(0x215)]/0.601+'%',sizeSlider[_0x28d7c0(0x1b3)][_0x28d7c0(0x1db)][_0x28d7c0(0x1fd)]='1',eraserWidth=sizeSlider[_0x28d7c0(0x215)];}),sizeSlider[_0x1b5bfe(0x1ba)](_0x1b5bfe(0x1f9),()=>{const _0x25b5e1=_0x1b5bfe;sizeSlider[_0x25b5e1(0x1b3)]['style'][_0x25b5e1(0x1fd)]='0';}));}}}),_0x142720[_0x431610(0x1ba)]('touchstart',()=>{const _0x56470b=_0x431610;document[_0x56470b(0x1ab)](_0x56470b(0x1f8))['classList'][_0x56470b(0x249)](_0x56470b(0x1c5)),_0x142720['classList'][_0x56470b(0x1e4)](_0x56470b(0x1c5)),_0x142720['id']!==_0x56470b(0x23f)&&(selectedTool=_0x142720['id']);});}),clearCanvasBtn[_0x25ea7c(0x1ba)](_0x25ea7c(0x217),()=>{const _0x56b6c1=_0x25ea7c;openModel(clearCanvasFunc,{'icon':_0x56b6c1(0x1e6),'h1':_0x56b6c1(0x25b),'btns':{'btn1':_0x56b6c1(0x209),'btn2':_0x56b6c1(0x1bd)}});});const clearCanvasFunc=()=>{const _0x33aeb6=_0x25ea7c;ctx[_0x33aeb6(0x247)](0x0,0x0,canvas[_0x33aeb6(0x20a)],canvas[_0x33aeb6(0x1e8)]),setCanvasBackground(),saveSnapshot();};function _0x1fa6(){const _0x13e5df=['square','.save-img','rotate(360deg)\x20scale(0)','لا\x20توجد\x20رسوم\x20للحفظ.','lineWidth','shapes','2340541azZLaF','createElement','offsetHeight','.popup\x20h1','btns','#eraser-size','999','lineCap','1391860VUITXZ','Bitmap','touchend','length','811248QYybAs','left','toDataURL','cursor','.home-page','mousemove','rectangle','animate','color','5310693XjFZII','\x22/></g></svg>\x27)\x20','#brush-size','popup-overlay','brush','crosshair','innerHTML','querySelector','onload','\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22slider-value\x22>','scaleY','appendChild','تم\x20حفظ\x20رسمتك\x20بنجاح.','scaleX','Shape','nextElementSibling','parse','touchmove','star','result','.png','parentElement','addEventListener','change','6yZhZFH','yes-btn','\x22\x20/></div>','top','stringify','10.05vw','moveTo','#000','bottom','active','checked','./assets/i-icon.png','offsetWidth','pop','lineJoin','href','readAsDataURL','icon','closePath','#add-img','</div>\x0a\x20\x20\x20\x20</li></ul>','pageX','3vBdDin','div','triangle','offsetY','stroke','DocumentTouch','canvas','load','initial','style','<ul\x20class=\x22options\x20colors\x22>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27g\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27p\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27b\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27o\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27r\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27y\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27multi-colors\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22color\x22\x20id=\x22color-picker\x22\x20value=\x22#4A98F7\x22\x20style=\x22width:\x20inherit;height:\x20100%;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20</ul>','1645955dpFEMj','download','sqrt','.home-page\x20.start\x20img','strokeStyle','offsetX','disabled','add','translate(-50%,\x20-50%)','./assets/q-icon.png','splice','height','className','getElementById','.lib\x20.row\x20img','.popup\x20.close','log','touchstart','append','beginPath','classList','لا\x20يوجد\x20لديك\x20رسومات\x20محفوظة.','.tools-board','8zsPvoX','<ul\x20class=\x22options\x22><li\x20class=\x22option\x20slider\x22>\x0a\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20id=\x22brush-size\x22\x20min=\x221\x22\x20max=\x2250\x22\x20value=\x22','toBlob','.options\x20.selected','.options\x20.active','blur','translate(-50%,\x20-500%)','toString','multi-colors','opacity','.gallery','strokeRect','mouseup','onclick','<button\x20class=\x22','getPropertyValue','block','<div\x20class=\x22overlay\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22home\x20home-2\x22\x20title=\x22الرئيسية\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22lib\x22><div\x20class=\x22row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/btn-1.png\x22\x20id=\x22img-1\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/btn-2.png\x22\x20id=\x22img-2\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/btn-3.png\x22\x20id=\x22img-3\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/btn-4.png\x22\x20id=\x22img-4\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/btn-3.png\x22\x20id=\x22img-3\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/btn-4.png\x22\x20id=\x22img-4\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','display','none','2.95vw','no-btn','width','drawRect','.pipe','<div\x20class=\x22overlay\x22></div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/new.png\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/lib.png\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20</div>','rotate(0)\x20scale(1)','#FFF9F5','push','cos','targetTouches','eraser','getItem','value','lib-img','click','split','pageY','getBoundingClientRect','forEach','./assets/tr-icon.png','<div\x20class=\x22outer-img\x22><button\x20class=\x22delete-my-drawing\x22\x20title=\x22حذف\x22></button><button\x20class=\x22download\x22\x20title=\x22تحميل\x22></button><img\x20src=\x22','removeAttribute','drawings','addChild','querySelectorAll','</div><div\x20class=\x22row\x22>','getComputedStyle','converted_image.png','324012mZayep','.undo','selected','buttons','\x22\x20/></div></div></div>','<ul\x20class=\x22options\x20shapes\x22>\x0a\x20<li\x20class=\x22option\x20tool\x20shape\x22\x20id=\x22triangle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/triangle.png\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20tool\x20shape\x22\x20id=\x22star\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/star.png\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20tool\x20shape\x22\x20id=\x22hexagon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/hexagon.png\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20tool\x20shape\x22\x20id=\x22rectangle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/rectangle.png\x22\x20alt=\x22\x22\x20style=\x22width:\x204.4vw;height:\x204.4vw;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20tool\x20shape\x22\x20id=\x22circle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/circle.png\x22\x20alt=\x22\x22\x20style=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22\x20option\x20tool\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22fill-color\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22fill-color\x22>ملء\x20الشكل</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li></ul>','pow','pointer','target','.shapes\x20.shape','sin','ok-btn','rotate(90deg)','src','</div></div>','transform','\x22></button>','replaceAll','values','contains','getImageData','graphics','<div\x20class=\x22overlay\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22home\x20home-2\x22\x20title=\x22الرئيسية\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div><div\x20class=\x22lib\x20lib2\x22><div\x20class=\x22row\x22><div\x20class=\x22outer-img\x22><button\x20class=\x22delete-my-drawing\x22\x20title=\x22حذف\x22></button><button\x20class=\x22download\x22\x20title=\x22تحميل\x22></button><img\x20src=\x22','.tool','.home-page\x20.lib\x20img','fillRect','colors','</div>\x0a\x20\x20\x20\x20\x20\x20</li></ul>','input','#FFFFFF','innerText','setItem','hexagon','arc','clearRect','files','remove','fillStyle','fill','.download','17.14vw','putImageData','\x22><g\x20id=\x22Layer_1-2\x22\x20data-name=\x22Layer\x201\x22><circle\x20class=\x22cls-1\x22\x20cx=\x2216\x22\x20cy=\x2216\x22\x20r=\x22','\x22\x20height=\x22','هل\x20ترغب\x20في\x20حذف\x20هذه\x20الرسمة؟','min','preventDefault','image/png','mouseover','children','circle','update','24vw','replace','هل\x20ترغب\x20في\x20حذف\x20جميع\x20الرسومات\x20الخاصة\x20بك؟','body','ontouchstart','343220Mlacgz','lineTo','.popup\x20img','#color-picker','setAttribute'];_0x1fa6=function(){return _0x13e5df;};return _0x1fa6();}saveImg[_0x25ea7c(0x1ba)](_0x25ea7c(0x217),()=>{saveDrawings();});const saveSnapshot=_0x2f5778=>{const _0x3c6239=_0x25ea7c;redoStack=[],undoStack['push'](ctx[_0x3c6239(0x239)](0x0,0x0,canvas['width'],canvas[_0x3c6239(0x1e8)])),checkDoBtnsState();},undoFunc=_0x40f4a0=>{const _0x3719d2=_0x25ea7c;isSaved=![];if(undoStack['length']>0x1){let _0x4d2c17=undoStack[_0x3719d2(0x1c9)]();redoStack[_0x3719d2(0x210)](_0x4d2c17);const _0x1cfcba=undoStack[undoStack[_0x3719d2(0x274)]-0x1];ctx[_0x3719d2(0x24e)](_0x1cfcba,0x0,0x0);}else{if(undoStack[_0x3719d2(0x274)]==0x1){let _0x2de263=undoStack[_0x3719d2(0x1c9)]();redoStack['push'](_0x2de263),ctx['clearRect'](0x0,0x0,canvas[_0x3719d2(0x20a)],canvas[_0x3719d2(0x1e8)]);}}checkDoBtnsState();},redoFunc=_0x26dce6=>{const _0xbda126=_0x25ea7c;isSaved=![];if(redoStack['length']>0x0){let _0x37a4b6=redoStack[_0xbda126(0x1c9)]();undoStack[_0xbda126(0x210)](_0x37a4b6);const _0x1935b7=undoStack[undoStack[_0xbda126(0x274)]-0x1];ctx[_0xbda126(0x24e)](_0x1935b7,0x0,0x0);}checkDoBtnsState();};undoBtn[_0x25ea7c(0x1ba)]('click',undoFunc,![]),redoBtn[_0x25ea7c(0x1ba)](_0x25ea7c(0x217),redoFunc,![]);const checkDoBtnsState=()=>{const _0x22606c=_0x25ea7c;!redoStack[_0x22606c(0x274)]?(redoBtn[_0x22606c(0x1db)][_0x22606c(0x1fd)]='.5',redoBtn['style'][_0x22606c(0x278)]=_0x22606c(0x1da),redoBtn[_0x22606c(0x262)](_0x22606c(0x1e3),!![])):(redoBtn[_0x22606c(0x1db)][_0x22606c(0x1fd)]='1',redoBtn['style'][_0x22606c(0x278)]=_0x22606c(0x22c),redoBtn[_0x22606c(0x21e)](_0x22606c(0x1e3))),!undoStack[_0x22606c(0x274)]?(undoBtn[_0x22606c(0x1db)][_0x22606c(0x1fd)]='.5',undoBtn[_0x22606c(0x1db)]['cursor']=_0x22606c(0x1da),undoBtn[_0x22606c(0x262)]('disabled',!![])):(undoBtn[_0x22606c(0x1db)][_0x22606c(0x1fd)]='1',undoBtn[_0x22606c(0x1db)][_0x22606c(0x278)]=_0x22606c(0x22c),undoBtn[_0x22606c(0x21e)](_0x22606c(0x1e3)));};checkDoBtnsState(),canvas[_0x25ea7c(0x1ba)]('mousedown',startDraw),canvas['addEventListener'](_0x25ea7c(0x27a),drawing),canvas[_0x25ea7c(0x1ba)](_0x25ea7c(0x200),()=>{isDrawing=![],saveSnapshot();}),canvas[_0x25ea7c(0x1ba)]('mouseleave',_0x48e9c9=>{const _0x20ff19=_0x25ea7c;isDrawing=![],_0x48e9c9[_0x20ff19(0x228)]&&saveSnapshot();}),canvas[_0x25ea7c(0x1ba)](_0x25ea7c(0x255),()=>{const _0xda398b=_0x25ea7c;if(selectedTool=='brush'||selectedTool==_0xda398b(0x213)){cursorSize=sizeSlider?parseInt(sizeSlider['value']):0x5,console[_0xda398b(0x1ed)](cursorSize);if(cursorSize<=0x4){canvas[_0xda398b(0x1db)]['cursor']=_0xda398b(0x1a9);return;}canvas['style']['cursor']='url(\x27data:image/svg+xml;utf8,<svg\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20viewBox=\x220\x200\x2032\x2032\x22\x20width=\x22'+cursorSize+_0xda398b(0x250)+cursorSize+_0xda398b(0x24f)+cursorSize*0x2+'\x22\x20fill=\x22'+selectedColor[_0xda398b(0x25a)]('#','')+_0xda398b(0x1a5)+cursorSize*0x2+'\x20'+cursorSize*0x2+',\x20auto';}}),canvas['addEventListener'](_0x25ea7c(0x1ee),_0x20a8e9=>{startDraw(_0x20a8e9);}),canvas[_0x25ea7c(0x1ba)](_0x25ea7c(0x1b5),_0x3a9bfd=>{const _0x26442b=_0x25ea7c;_0x3a9bfd[_0x26442b(0x253)](),drawing(_0x3a9bfd);}),canvas[_0x25ea7c(0x1ba)](_0x25ea7c(0x273),_0x3cfeeb=>{isDrawing=![],saveSnapshot();}),addImg[_0x25ea7c(0x201)]=()=>{const _0x3016c2=_0x25ea7c;fileInput[_0x3016c2(0x217)]();},fileInput[_0x25ea7c(0x1ba)](_0x25ea7c(0x1bb),function(_0x26cb91){const _0x1ce9ea=_0x25ea7c,_0x4ba62f=_0x26cb91[_0x1ce9ea(0x22d)][_0x1ce9ea(0x248)][0x0];reader[_0x1ce9ea(0x1ac)]=function(_0x2ce22a){const _0x4409a2=_0x1ce9ea,_0x341d9d=new Image();_0x341d9d[_0x4409a2(0x1ac)]=function(){readImage(_0x341d9d);},_0x341d9d[_0x4409a2(0x232)]=_0x2ce22a[_0x4409a2(0x22d)][_0x4409a2(0x1b7)];},reader[_0x1ce9ea(0x1cc)](_0x4ba62f);});const readImage=_0x171b5d=>{const _0x3c2ee7=_0x25ea7c;let _0x5d6237=new createjs[(_0x3c2ee7(0x1b2))]();_0x5d6237[_0x3c2ee7(0x23a)]['beginFill'](_0x3c2ee7(0x242))[_0x3c2ee7(0x20b)](0x0,0x0,stage['canvas'][_0x3c2ee7(0x20a)],stage[_0x3c2ee7(0x1d8)][_0x3c2ee7(0x1e8)]),_0x171b5d[_0x3c2ee7(0x1db)][_0x3c2ee7(0x234)]=_0x3c2ee7(0x231);const _0x49a12f=new createjs[(_0x3c2ee7(0x272))](_0x171b5d),_0x3df5c3=stage[_0x3c2ee7(0x1d8)][_0x3c2ee7(0x20a)],_0xdaf215=stage[_0x3c2ee7(0x1d8)][_0x3c2ee7(0x1e8)],_0x1b75ae=_0x171b5d['width'],_0x5a4110=_0x171b5d[_0x3c2ee7(0x1e8)],_0x542a0b=_0x3df5c3/_0x1b75ae,_0x369251=_0xdaf215/_0x5a4110,_0x473af8=Math[_0x3c2ee7(0x252)](_0x542a0b,_0x369251);_0x49a12f['scaleX']=_0x473af8,_0x49a12f[_0x3c2ee7(0x1ae)]=_0x473af8,_0x49a12f['x']=(_0x3df5c3-_0x1b75ae*_0x473af8)/0x2,_0x49a12f['y']=(_0xdaf215-_0x5a4110*_0x473af8)/0x2,stage['children']=[],stage[_0x3c2ee7(0x220)](_0x5d6237),stage[_0x3c2ee7(0x220)](_0x49a12f),stage[_0x3c2ee7(0x258)](),saveSnapshot();},gallery=document[_0x25ea7c(0x1ab)](_0x25ea7c(0x1fe));gallery[_0x25ea7c(0x1ba)](_0x25ea7c(0x217),_0x11f435=>{const _0x5c7487=_0x25ea7c;canvas[_0x5c7487(0x1f6)](function(_0x5b0466){const _0x11e4e6=_0x5c7487,_0x3ae54a=new File([_0x5b0466],_0x11e4e6(0x224),{'type':_0x11e4e6(0x254)});});if(drawings){const _0x569670=()=>{const _0x4dda98=_0x5c7487;undoStack=[],redoStack=[];const _0x2cc04e=document[_0x4dda98(0x26a)]('div');_0x2cc04e[_0x4dda98(0x1e9)]='home-page';const _0x50fad8=JSON[_0x4dda98(0x1b4)](localStorage['getItem'](_0x4dda98(0x21f)));setCanvasBackground();let _0x3016bc='';if(_0x50fad8[_0x4dda98(0x274)]===0x1)_0x3016bc=_0x4dda98(0x23b)+_0x50fad8[0x0][0x1]+_0x4dda98(0x229);else{_0x3016bc='<div\x20class=\x22overlay\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22home\x20home-2\x22\x20title=\x22الرئيسية\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div><div\x20class=\x22lib\x20lib2\x22><div\x20class=\x22row\x22>';if(_0x50fad8[_0x4dda98(0x274)]%0x2===0x0)for(let _0x3fdd5e=0x0;_0x3fdd5e<_0x50fad8['length'];_0x3fdd5e+=0x2){for(let _0x4a0efa=0x0;_0x4a0efa<0x2;_0x4a0efa++){_0x3016bc+=_0x4dda98(0x21d)+_0x50fad8[_0x3fdd5e+_0x4a0efa][0x1]+_0x4dda98(0x1be);}_0x3fdd5e+0x2<_0x50fad8[_0x4dda98(0x274)]&&(_0x3016bc+='</div><div\x20class=\x22row\x22>');}else for(let _0xe13d19=0x0;_0xe13d19<_0x50fad8[_0x4dda98(0x274)];_0xe13d19++){_0x3016bc+=_0x4dda98(0x21d)+_0x50fad8[_0xe13d19][0x1]+'\x22\x20/></div>',_0xe13d19!=_0x50fad8[_0x4dda98(0x274)]-0x1&&_0xe13d19%0x2===0x1&&(_0x3016bc+=_0x4dda98(0x222));}_0x3016bc+=_0x4dda98(0x233);}_0x2cc04e['innerHTML']=_0x3016bc,document['body'][_0x4dda98(0x1af)](_0x2cc04e),setHomeFunc();const _0x144980=document[_0x4dda98(0x221)](_0x4dda98(0x24c)),_0x2a5abc=document['querySelectorAll']('.delete-my-drawing');_0x144980[_0x4dda98(0x21b)](_0x56d509=>{const _0x3c9f06=_0x4dda98;_0x56d509['addEventListener'](_0x3c9f06(0x217),()=>{const _0x13f769=_0x3c9f06,_0x573172=new Image();_0x573172[_0x13f769(0x232)]=_0x56d509[_0x13f769(0x1b3)][_0x13f769(0x232)],_0x573172['onload']=function(){const _0x3baff7=_0x13f769;let _0x10e496=new createjs[(_0x3baff7(0x1b2))]();_0x10e496['graphics']['beginFill']('#FFFFFF')[_0x3baff7(0x20b)](0x0,0x0,stage[_0x3baff7(0x1d8)][_0x3baff7(0x20a)],stage[_0x3baff7(0x1d8)][_0x3baff7(0x1e8)]),_0x573172[_0x3baff7(0x1db)][_0x3baff7(0x234)]='rotate(90deg)';const _0x5d4c26=new createjs[(_0x3baff7(0x272))](_0x573172),_0x2c1bf2=stage[_0x3baff7(0x1d8)][_0x3baff7(0x20a)],_0x187a11=stage['canvas']['height'],_0x186513=_0x573172[_0x3baff7(0x20a)],_0x5e3ca=_0x573172['height'],_0x503751=_0x2c1bf2/_0x186513,_0x379a75=_0x187a11/_0x5e3ca,_0x1f1c20=Math[_0x3baff7(0x252)](_0x503751,_0x379a75);_0x5d4c26[_0x3baff7(0x1b1)]=_0x1f1c20,_0x5d4c26[_0x3baff7(0x1ae)]=_0x1f1c20,_0x5d4c26['x']=(_0x2c1bf2-_0x186513*_0x1f1c20)/0x2,_0x5d4c26['y']=(_0x187a11-_0x5e3ca*_0x1f1c20)/0x2,stage[_0x3baff7(0x256)]=[],stage[_0x3baff7(0x220)](_0x10e496),stage[_0x3baff7(0x220)](_0x5d4c26),stage['update']();const _0x620409=document[_0x3baff7(0x26a)]('a');_0x620409[_0x3baff7(0x1de)]=Date['now']()+_0x3baff7(0x1b8),_0x620409[_0x3baff7(0x1cb)]=canvas[_0x3baff7(0x277)](_0x3baff7(0x254)),_0x620409['click'](),setCanvasBackground();};});}),_0x2a5abc['forEach']((_0x5e7999,_0x42155f)=>{const _0x4009e2=_0x4dda98,_0x1190b2=()=>{const _0xd7d1f1=_0x1609;_0x50fad8[_0xd7d1f1(0x1e7)](_0x42155f,0x1),localStorage[_0xd7d1f1(0x244)]('drawings',JSON[_0xd7d1f1(0x1c0)](_0x50fad8)),_0x1f828a['remove'](),_0x569670();};_0x5e7999[_0x4009e2(0x201)]=()=>{const _0x57ae36=_0x4009e2;openModel(_0x1190b2,{'icon':_0x57ae36(0x1e6),'h1':_0x57ae36(0x251),'btns':{'btn1':'no-btn','btn2':'yes-btn'}});};});const _0x222ff6=document[_0x4dda98(0x221)](_0x4dda98(0x23d)),_0x1f828a=document[_0x4dda98(0x1ab)](_0x4dda98(0x279));_0x222ff6[_0x4dda98(0x21b)]((_0x26b53b,_0x2d9d7c)=>{const _0x3ab591=_0x4dda98;_0x26b53b[_0x3ab591(0x201)]=()=>{const _0x120dd3=_0x3ab591,_0x23ccd5=new Image();_0x23ccd5['src']=_0x26b53b[_0x120dd3(0x232)],_0x23ccd5['onload']=function(){readImage(_0x23ccd5),currDrawing=_0x50fad8[_0x2d9d7c][0x0],isSaved=!![];},_0x1f828a['remove']();};});};if((undoStack[_0x5c7487(0x274)]||redoStack[_0x5c7487(0x274)])&&!isSaved)openModel(_0x569670,{'icon':_0x5c7487(0x1e6),'h1':'هل\x20ترغب\x20في\x20الخروج\x20دون\x20حفظ\x20التغييرات؟','btns':{'btn1':_0x5c7487(0x209),'btn2':_0x5c7487(0x1bd)}});else _0x569670();}else openModel(()=>{},{'icon':_0x5c7487(0x1c7),'h1':_0x5c7487(0x1f2),'btns':{'btn1':_0x5c7487(0x230)}});},![]);function _0x1609(_0x1d0bc5,_0xd78c46){const _0x1fa663=_0x1fa6();return _0x1609=function(_0x160944,_0x108bc3){_0x160944=_0x160944-0x1a5;let _0x569607=_0x1fa663[_0x160944];return _0x569607;},_0x1609(_0x1d0bc5,_0xd78c46);}const spinningEffect=_0x289d06=>{const _0x24e2d3=_0x25ea7c,_0x3b2ee6=[{'transform':_0x24e2d3(0x20e)},{'transform':_0x24e2d3(0x265)},{'transform':'rotate(0)\x20scale(1)'}],_0x1a78f4={'duration':0x3e8,'iterations':0x1};_0x289d06[_0x24e2d3(0x27c)](_0x3b2ee6,_0x1a78f4);},openModel=(_0xe633e4,_0x279a75)=>{const _0xffe340=_0x25ea7c,_0x11211d=document[_0xffe340(0x1ab)]('.popup'),_0x24de2e=document[_0xffe340(0x1ab)](_0xffe340(0x1ec)),_0x40c01d=document[_0xffe340(0x1ab)](_0xffe340(0x260)),_0xe4d6ad=document[_0xffe340(0x1ab)](_0xffe340(0x26c));_0x11211d[_0xffe340(0x1db)][_0xffe340(0x234)]=_0xffe340(0x1e5),_0x11211d['style']['zIndex']=_0xffe340(0x26f),_0x40c01d[_0xffe340(0x232)]=_0x279a75[_0xffe340(0x1cd)],_0xe4d6ad['innerText']=_0x279a75['h1'];let _0x1a9b72='';Object[_0xffe340(0x237)](_0x279a75[_0xffe340(0x26d)])[_0xffe340(0x21b)](_0xf0206f=>{const _0x5431d6=_0xffe340;_0x1a9b72+=_0x5431d6(0x202)+_0xf0206f+_0x5431d6(0x235);}),_0x24de2e[_0xffe340(0x1aa)]=_0x1a9b72,document[_0xffe340(0x25c)]['classList'][_0xffe340(0x1e4)](_0xffe340(0x1a7)),_0x24de2e[_0xffe340(0x1ba)](_0xffe340(0x217),function(){const _0x3fa56b=_0xffe340;_0x24de2e['parentElement'][_0x3fa56b(0x1db)]['transform']=_0x3fa56b(0x1fa),setTimeout(()=>{const _0x22d100=_0x3fa56b;document[_0x22d100(0x25c)][_0x22d100(0x1f1)][_0x22d100(0x249)](_0x22d100(0x1a7));},0x1f4);}),_0x24de2e['children'][0x1]?.[_0xffe340(0x1ba)]('click',_0xe633e4);};
