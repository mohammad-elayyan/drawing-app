const _0x4d2376=_0x1d7e;(function(_0x46b8cf,_0x3724ec){const _0x3e70f5=_0x1d7e,_0xf517b7=_0x46b8cf();while(!![]){try{const _0x22b15f=parseInt(_0x3e70f5(0xd7))/0x1*(parseInt(_0x3e70f5(0x185))/0x2)+-parseInt(_0x3e70f5(0x128))/0x3*(parseInt(_0x3e70f5(0x10a))/0x4)+-parseInt(_0x3e70f5(0x133))/0x5+parseInt(_0x3e70f5(0x13d))/0x6+parseInt(_0x3e70f5(0x165))/0x7*(-parseInt(_0x3e70f5(0x115))/0x8)+-parseInt(_0x3e70f5(0xee))/0x9+parseInt(_0x3e70f5(0x142))/0xa*(parseInt(_0x3e70f5(0xe9))/0xb);if(_0x22b15f===_0x3724ec)break;else _0xf517b7['push'](_0xf517b7['shift']());}catch(_0x1257e1){_0xf517b7['push'](_0xf517b7['shift']());}}}(_0x4853,0xdf2c9));const canvas=document['querySelector'](_0x4d2376(0x15c)),homePage=document[_0x4d2376(0xe4)](_0x4d2376(0x12e)),colorsTool=document[_0x4d2376(0x111)](_0x4d2376(0x141))['children'][0x0],shapesTool=document[_0x4d2376(0x111)]('shapes')['children'][0x0],toolBtns=document[_0x4d2376(0x11e)](_0x4d2376(0x11b)),clearCanvasBtn=document[_0x4d2376(0xe4)](_0x4d2376(0x153)),saveImg=document[_0x4d2376(0xe4)](_0x4d2376(0x11d)),addImg=document[_0x4d2376(0xe4)](_0x4d2376(0x18b)),ctx=canvas[_0x4d2376(0x110)]('2d'),undoBtn=document[_0x4d2376(0xe4)]('.undo'),redoBtn=document[_0x4d2376(0xe4)]('.redo'),pipe=document[_0x4d2376(0xe4)](_0x4d2376(0x12d)),toolsBoard=document['querySelector'](_0x4d2376(0x180)),popupBtns=document[_0x4d2376(0x11e)](_0x4d2376(0x14d)),insidePanel=document[_0x4d2376(0xe4)](_0x4d2376(0x106));let prevMouseX,fillColor,sizeSlider,prevMouseY,prevTool='',newMouseX,newMouseY,snapshot,elements=[],undoStack=[],redoStack=[],isDrawing=![],selectedTool=_0x4d2376(0xdd),brushWidth=0x5,eraserWidth=0x5,fillValue=![],isSaved=![],cursorSize=0x5,selectedColor='#000';const reader=new FileReader(),stage=new createjs[(_0x4d2376(0xed))](_0x4d2376(0x15c)),fileInput=document[_0x4d2376(0x111)]('fileInput'),setHomeFunc=()=>{const _0x17763b=_0x4d2376,_0x396063=document[_0x17763b(0x11e)](_0x17763b(0xe8)),_0xe9163a=()=>{const _0xe4bb58=_0x17763b,_0x4ad212=document['querySelector'](_0xe4bb58(0x12e));setCanvasBackground(),undoStack=[],redoStack=[],checkDoBtnsState();_0x4ad212&&_0x4ad212['remove']();currDrawing='';const _0x2cd316=document[_0xe4bb58(0x167)](_0xe4bb58(0x101));_0x2cd316[_0xe4bb58(0x104)]=_0xe4bb58(0xd6),_0x2cd316[_0xe4bb58(0x1ab)]=_0xe4bb58(0x14b),document[_0xe4bb58(0x134)][_0xe4bb58(0x10e)](_0x2cd316),setHomePageBtns();};_0x396063['forEach'](_0x4dd00e=>{const _0x244557=_0x17763b;_0x4dd00e[_0x244557(0x13f)]=()=>{const _0xb6864a=_0x244557;undoStack[_0xb6864a(0x149)]||redoStack[_0xb6864a(0x149)]?openModel(_0xe9163a,{'icon':_0xb6864a(0x123),'h1':_0xb6864a(0x102),'btns':{'btn1':_0xb6864a(0x17d),'btn2':_0xb6864a(0x14c)}}):_0xe9163a();};});},setHomePageBtns=()=>{const _0x59668b=_0x4d2376,_0x3d62d5=document[_0x59668b(0x11e)](_0x59668b(0x196)),_0x5645ea=document['querySelector']('.home-page');_0x3d62d5[_0x59668b(0x16d)]((_0x112bb7,_0x177ee6)=>{_0x112bb7['onclick']=()=>{const _0x162cef=_0x1d7e;switch(_0x177ee6){case 0x0:_0x5645ea[_0x162cef(0x14e)]();break;case 0x1:_0x5645ea[_0x162cef(0x1aa)][0x1][_0x162cef(0x14e)](),_0x5645ea[_0x162cef(0x1ab)]=_0x162cef(0x176);const _0x25d0f9=document[_0x162cef(0x11e)](_0x162cef(0xf5)),_0x510904=document[_0x162cef(0x111)]('lib-img');_0x25d0f9[_0x162cef(0x16d)](_0x1aef82=>{const _0x26a6b3=_0x162cef;_0x1aef82['addEventListener'](_0x26a6b3(0x179),()=>{const _0x25d309=_0x26a6b3;let _0x2da371=_0x1aef82[_0x25d309(0x139)][_0x25d309(0xeb)]('/');_0x2da371['splice'](_0x2da371[_0x25d309(0x149)]-0x1,0x1,_0x1aef82['id']+'.png'),_0x2da371=_0x2da371['toString']()[_0x25d309(0x108)](',','/');const _0x19dd1d=new Image();_0x19dd1d[_0x25d309(0x139)]=_0x2da371,_0x19dd1d[_0x25d309(0xde)]=function(){const _0x67af8c=_0x25d309;readImage(_0x19dd1d),_0x5645ea[_0x67af8c(0x14e)]();};});});break;default:break;}setHomeFunc();};});};setHomePageBtns();const setCanvasBackground=()=>{const _0x474632=_0x4d2376;ctx[_0x474632(0x187)]=_0x474632(0x191),ctx[_0x474632(0x182)](0x0,0x0,canvas['width'],canvas['height']),ctx[_0x474632(0x187)]=selectedColor;};function _0x4853(){const _0x5182ec=['getContext','getElementById','999','ok-btn','<div\x20class=\x22overlay\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22home\x20home-2\x22\x20title=\x22الرئيسية\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div><div\x20class=\x22lib\x20lib2\x22><div\x20class=\x22row\x22>','6736712MHsIgC','clientX','transparent','rotate(90deg)','.popup\x20h1','indexOf','.tool','parentElement','.save-img','querySelectorAll','offsetX','values','display','width','./assets/q-icon.png','download','style','href','getComputedStyle','1011UfUIfn','sin','eraser','pointer','preventDefault','.pipe','.home-page','<ul\x20class=\x22options\x22><li\x20class=\x22option\x20slider\x22>\x0a\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20id=\x22eraser-size\x22\x20min=\x221\x22\x20max=\x2250\x22\x20value=\x22','mouseout','converted_image.png','touchmove','1213500YNHALy','body','beginFill','clearRect','parse','\x22\x20/></div></div></div>','src','</div>\x0a\x20\x20\x20\x20</li></ul>','.popup\x20img','targetTouches','4452966FwfCQS','left','onclick','star','colors','25550kiVUVQ','.png','cursor','classList','DocumentTouch','offsetWidth','هل\x20ترغب\x20في\x20حذف\x20هذه\x20الرسمة؟','length','pow','<div\x20class=\x22overlay\x22></div>\x0a\x20\x20<div\x20class=\x22start\x22>\x0a\x20\x20\x20\x20<img\x20src=\x22./assets/library/new.png\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20<img\x20src=\x22./assets/library/lib.png\x22\x20alt=\x22\x22>\x0a\x20\x20</div>','yes-btn','.popup-btn','remove','initial',',\x20auto','\x22\x20/></div>','pageX','.clear-canvas','graphics','sqrt','.options\x20.active','icon','top','./assets/tr-icon.png','readAsDataURL','active','canvas','هل\x20ترغب\x20في\x20حذف\x20جميع\x20الرسومات\x20الخاصة\x20بك؟','addEventListener','\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22slider-value\x22>','lineTo','hexagon','toString','innerText','checked','7Sfpibt','تم\x20حفظ\x20رسمتك\x20بنجاح.','createElement','result','17.14vw','nextElementSibling','.download','popup-overlay','forEach','</div><div\x20class=\x22row\x22>','.home-page\x20.lib\x20img','value','rectangle','circle','blur','arc','.delete-my-drawing','<div\x20class=\x22overlay\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22home\x20home-2\x22\x20title=\x22الرئيسية\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22lib\x22><div\x20class=\x22row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/btn-1.png\x22\x20id=\x22img-1\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/btn-2.png\x22\x20id=\x22img-2\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/btn-3.png\x22\x20id=\x22img-3\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/btn-4.png\x22\x20id=\x22img-4\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','strokeStyle','size','click','setAttribute','color','toBlob','no-btn','.options\x20.selected','stringify','.tools-board','transform','fillRect','putImageData','#eraser-size','4jSocJA','selected','fillStyle','shapes','getBoundingClientRect','drawRect','#add-img','<ul\x20class=\x22options\x22><li\x20class=\x22option\x20slider\x22>\x0a\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20id=\x22brush-size\x22\x20min=\x221\x22\x20max=\x2250\x22\x20value=\x22','target','.gallery','.popup\x20.close','./assets/i-icon.png','#fef9f5','lineJoin','add','scaleY','drawings','.home-page\x20.start\x20img','cos','moveTo','multi-colors','\x22><g\x20id=\x22Layer_1-2\x22\x20data-name=\x22Layer\x201\x22><circle\x20class=\x22cls-1\x22\x20cx=\x2216\x22\x20cy=\x2216\x22\x20r=\x22','round','lineWidth','.shapes\x20.shape','strokeRect','triangle','closePath','update','addChild','removeEventListener','%23','#brush-size','splice','beginPath','block','fill','children','innerHTML','appendChild','opacity','ontouchstart','\x22\x20height=\x22','min','crosshair','right','home-page','155088zqBoPm','scaleX','disabled','rotate(360deg)\x20scale(0)','10.05vw','input','brush','onload','Shape','<div\x20class=\x22outer-img\x22><button\x20class=\x22delete-my-drawing\x22\x20title=\x22حذف\x22></button><button\x20class=\x22download\x22\x20title=\x22تحميل\x22></button><img\x20src=\x22','getImageData','getItem','mousemove','querySelector','pageY','Bitmap','translate(-50%,\x20-500%)','.home','8855gykXgR','setItem','split','<div\x20class=\x22overlay\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22home\x20home-2\x22\x20title=\x22الرئيسية\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div><div\x20class=\x22lib\x20lib2\x22><div\x20class=\x22row\x22><div\x20class=\x22outer-img\x22><button\x20class=\x22delete-my-drawing\x22\x20title=\x22حذف\x22></button><button\x20class=\x22download\x22\x20title=\x22تحميل\x22></button><img\x20src=\x22','Stage','7149897nAHdTR','push','pop','mouseup','لا\x20توجد\x20رسوم\x20للحفظ.','image/png','mouseover','.lib\x20.row\x20img','<div\x20class=\x22overlay\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22home\x20home-2\x22\x20title=\x22الرئيسية\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div><div\x20class=\x22lib\x20lib2\x22\x20style=\x22justify-content:center;align-items:center;\x22><h1>لا\x20يوجد\x20رسومات\x20محفوظة.</h1></div>','none','url(\x27data:image/svg+xml;utf8,<svg\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20viewBox=\x220\x200\x2032\x2032\x22\x20width=\x22','<button\x20class=\x22','rotate(0)\x20scale(1)','bottom','height','</div>\x0a\x20\x20\x20\x20\x20\x20</li></ul>','replace','\x22></button>','stroke','div','هل\x20ترغب\x20في\x20الخروج\x20دون\x20حفظ\x20التغييرات؟','offsetY','className','24vw','.inside-panel','square','replaceAll','clientY','3748ErjDLE','contains','removeAttribute','files','append','touchstart'];_0x4853=function(){return _0x5182ec;};return _0x4853();}let drawings=[];localStorage[_0x4d2376(0xe2)](_0x4d2376(0x195))&&(drawings=JSON[_0x4d2376(0x137)](localStorage[_0x4d2376(0xe2)]('drawings')));let currDrawing='';const saveDrawings=()=>{const _0x2c4f35=_0x4d2376;if(undoStack[_0x2c4f35(0x149)]==0x0){openModel(()=>{},{'icon':_0x2c4f35(0x190),'h1':_0x2c4f35(0xf2),'btns':{'btn1':_0x2c4f35(0x113)}});return;}isSaved=!![],drawings=JSON[_0x2c4f35(0x137)](localStorage['getItem']('drawings')),canvas[_0x2c4f35(0x17c)](function(_0x5ed9e5){const _0x2ed3b7=_0x2c4f35;reader[_0x2ed3b7(0x15a)](_0x5ed9e5),reader[_0x2ed3b7(0xde)]=()=>{const _0x347054=_0x2ed3b7;let _0x5a320d='d'+_0x5ed9e5[_0x347054(0x178)]+'-'+performance['now']()/0x3e8,_0x1e12e7=[];if(drawings&&drawings[_0x347054(0x149)]){for(let _0x33fdd9=0x0;_0x33fdd9<drawings[_0x347054(0x149)];_0x33fdd9++){_0x1e12e7[_0x347054(0xef)](drawings[_0x33fdd9][0x0]),currDrawing&&drawings[_0x33fdd9][0x0]==currDrawing&&(drawings[_0x33fdd9][0x1]=reader[_0x347054(0x168)]);}_0x1e12e7[_0x347054(0x11a)](currDrawing)===-0x1&&drawings['push']([_0x5a320d,reader[_0x347054(0x168)]]),localStorage[_0x347054(0xea)](_0x347054(0x195),JSON[_0x347054(0x17f)](drawings)),openModel(()=>{},{'icon':'./assets/tr-icon.png','h1':'تم\x20حفظ\x20رسمتك\x20بنجاح.','btns':{'btn1':_0x347054(0x113)}});}else drawings=[],drawings[_0x347054(0xef)]([_0x5a320d,reader[_0x347054(0x168)]]),localStorage[_0x347054(0xea)]('drawings',JSON['stringify'](drawings)),openModel(()=>{},{'icon':_0x347054(0x159),'h1':_0x347054(0x166),'btns':{'btn1':_0x347054(0x113)}});};});};window[_0x4d2376(0x15e)]('load',()=>{const _0x3c0585=_0x4d2376;canvas['width']=canvas[_0x3c0585(0x147)],canvas[_0x3c0585(0xfc)]=canvas['offsetHeight'],setCanvasBackground();});const drawRect=_0x2561d2=>{const _0x5f1a25=_0x4d2376;let _0x160170=_0x2561d2['target'][_0x5f1a25(0x189)]();_0x5f1a25(0x1ae)in window||window['DocumentTouch']&&document instanceof DocumentTouch?(newMouseX=_0x2561d2['targetTouches'][0x0]?.[_0x5f1a25(0x152)]-_0x160170[_0x5f1a25(0x13e)],newMouseY=_0x2561d2[_0x5f1a25(0x13c)][0x0]?.[_0x5f1a25(0xe5)]-_0x160170[_0x5f1a25(0x158)]):(newMouseX=_0x2561d2[_0x5f1a25(0x11f)],newMouseY=_0x2561d2[_0x5f1a25(0x103)]);if(!fillColor[_0x5f1a25(0x164)])return ctx[_0x5f1a25(0x19e)](newMouseX,newMouseY,prevMouseX-newMouseX,prevMouseY-newMouseY);ctx[_0x5f1a25(0x182)](newMouseX,newMouseY,prevMouseX-newMouseX,prevMouseY-newMouseY);},drawCircle=_0xcd74d2=>{const _0x343ecb=_0x4d2376;let _0x35f911=_0xcd74d2[_0x343ecb(0x18d)]['getBoundingClientRect']();_0x343ecb(0x1ae)in window||window[_0x343ecb(0x146)]&&document instanceof DocumentTouch?(newMouseX=_0xcd74d2[_0x343ecb(0x13c)][0x0]?.[_0x343ecb(0x152)]-_0x35f911['left'],newMouseY=_0xcd74d2['targetTouches'][0x0]?.['pageY']-_0x35f911['top']):(newMouseX=_0xcd74d2[_0x343ecb(0x11f)],newMouseY=_0xcd74d2[_0x343ecb(0x103)]);ctx[_0x343ecb(0x1a7)]();let _0x4d90e0=Math['sqrt'](Math[_0x343ecb(0x14a)](prevMouseX-newMouseX,0x2)+Math[_0x343ecb(0x14a)](prevMouseY-newMouseY,0x2));ctx[_0x343ecb(0x174)](prevMouseX,prevMouseY,_0x4d90e0,0x0,0x2*Math['PI']),fillColor[_0x343ecb(0x164)]?ctx[_0x343ecb(0x1a9)]():ctx[_0x343ecb(0x100)](),elements[_0x343ecb(0xef)]({'x':prevMouseX,'y':prevMouseY,'radius':_0x4d90e0,'start':0x0,'end':0x2*Math['PI']});},drawTriangle=_0x2e91ec=>{const _0xc0e221=_0x4d2376;let _0x5464e4=_0x2e91ec[_0xc0e221(0x18d)][_0xc0e221(0x189)]();_0xc0e221(0x1ae)in window||window[_0xc0e221(0x146)]&&document instanceof DocumentTouch?(newMouseX=_0x2e91ec[_0xc0e221(0x13c)][0x0]?.[_0xc0e221(0x152)]-_0x5464e4[_0xc0e221(0x13e)],newMouseY=_0x2e91ec[_0xc0e221(0x13c)][0x0]?.[_0xc0e221(0xe5)]-_0x5464e4['top']):(newMouseX=_0x2e91ec['offsetX'],newMouseY=_0x2e91ec[_0xc0e221(0x103)]),ctx[_0xc0e221(0x1a7)](),ctx[_0xc0e221(0x198)](prevMouseX,prevMouseY),ctx[_0xc0e221(0x160)](newMouseX,newMouseY),ctx[_0xc0e221(0x160)](prevMouseX*0x2-newMouseX,newMouseY),ctx[_0xc0e221(0x1a0)](),fillColor['checked']?ctx['fill']():ctx[_0xc0e221(0x100)]();},drawStar=_0xdce0fd=>{const _0x428610=_0x4d2376;let _0x1f3ae3=_0xdce0fd['target'][_0x428610(0x189)](),_0x2d0d1a=Math['PI']/0x2*0x3,_0x1e64d5=0x5,_0x5ef0fd=Math['PI']/_0x1e64d5;'ontouchstart'in window||window[_0x428610(0x146)]&&document instanceof DocumentTouch?(newMouseX=_0xdce0fd[_0x428610(0x13c)][0x0]?.[_0x428610(0x152)]-_0x1f3ae3['left'],newMouseY=_0xdce0fd[_0x428610(0x13c)][0x0]?.[_0x428610(0xe5)]-_0x1f3ae3[_0x428610(0x158)]):(newMouseX=_0xdce0fd[_0x428610(0x11f)],newMouseY=_0xdce0fd[_0x428610(0x103)]);const _0x533c72=newMouseX-prevMouseX,_0x59b1aa=newMouseY-prevMouseY,_0x53d9cf=Math[_0x428610(0x155)](_0x533c72*_0x533c72+_0x59b1aa*_0x59b1aa);ctx[_0x428610(0x1a7)](),ctx['moveTo'](prevMouseX,prevMouseY-_0x53d9cf);for(i=0x0;i<_0x1e64d5;i++){x=prevMouseX+Math['cos'](_0x2d0d1a)*_0x53d9cf,y=prevMouseY+Math[_0x428610(0x129)](_0x2d0d1a)*_0x53d9cf,ctx[_0x428610(0x160)](x,y),_0x2d0d1a+=_0x5ef0fd,x=prevMouseX+Math[_0x428610(0x197)](_0x2d0d1a)*_0x53d9cf/0x2,y=prevMouseY+Math[_0x428610(0x129)](_0x2d0d1a)*_0x53d9cf/0x2,ctx[_0x428610(0x160)](x,y),_0x2d0d1a+=_0x5ef0fd;}ctx[_0x428610(0x160)](prevMouseX,prevMouseY-_0x53d9cf),ctx[_0x428610(0x1a0)](),fillColor[_0x428610(0x164)]?ctx[_0x428610(0x1a9)]():ctx['stroke']();},drawHexagon=_0x2ad514=>{const _0x3305af=_0x4d2376;let _0x1b1fec=_0x2ad514['target'][_0x3305af(0x189)]();_0x3305af(0x1ae)in window||window[_0x3305af(0x146)]&&document instanceof DocumentTouch?(newMouseX=_0x2ad514[_0x3305af(0x13c)][0x0]?.[_0x3305af(0x152)]-_0x1b1fec[_0x3305af(0x13e)],newMouseY=_0x2ad514[_0x3305af(0x13c)][0x0]?.['pageY']-_0x1b1fec[_0x3305af(0x158)]):(newMouseX=_0x2ad514[_0x3305af(0x11f)],newMouseY=_0x2ad514['offsetY']);let _0xa88440=(prevMouseX+newMouseX)/0x2,_0x4e4fc4=(prevMouseY+newMouseY)/0x2,_0x391837=Math[_0x3305af(0x155)]((newMouseX-prevMouseX)**0x2+(newMouseY-prevMouseY)**0x2)/0x2,_0x3c2561=Math['PI']/0x6,_0x10b6f5=Math['PI']/0x6+_0x3c2561;ctx['beginPath'](),ctx[_0x3305af(0x198)](_0xa88440+_0x391837*Math[_0x3305af(0x197)](_0x10b6f5),_0x4e4fc4+_0x391837*Math['sin'](_0x10b6f5));for(let _0x3d9d81=0x1;_0x3d9d81<=0x6;_0x3d9d81++){let _0x160d23=_0x10b6f5+_0x3d9d81*0x2*Math['PI']/0x6;ctx[_0x3305af(0x160)](_0xa88440+_0x391837*Math[_0x3305af(0x197)](_0x160d23),_0x4e4fc4+_0x391837*Math[_0x3305af(0x129)](_0x160d23));}ctx[_0x3305af(0x1a0)](),fillColor['checked']?ctx[_0x3305af(0x1a9)]():ctx[_0x3305af(0x100)]();},startDraw=_0x5dfba3=>{const _0xdf8125=_0x4d2376;isSaved=![],isDrawing=!![],sizeSlider&&(sizeSlider['nextElementSibling'][_0xdf8125(0x125)][_0xdf8125(0x1ad)]='0'),insidePanel[_0xdf8125(0x1ab)]='';if(toolBtns[0x1][_0xdf8125(0x145)][_0xdf8125(0x10b)](_0xdf8125(0x15b))&&prevTool===''&&selectedTool!=_0xdf8125(0x12a))toolBtns[0x1][_0xdf8125(0x145)][_0xdf8125(0x14e)](_0xdf8125(0x15b)),toolBtns[0x0][_0xdf8125(0x145)][_0xdf8125(0x193)](_0xdf8125(0x15b));else toolBtns[0x1][_0xdf8125(0x145)][_0xdf8125(0x10b)](_0xdf8125(0x15b))&&prevTool===_0xdf8125(0x188)?(toolBtns[0x1]['classList'][_0xdf8125(0x14e)](_0xdf8125(0x15b)),toolBtns[0x2]['classList'][_0xdf8125(0x193)](_0xdf8125(0x15b))):toolBtns[0x1]['classList'][_0xdf8125(0x14e)](_0xdf8125(0x15b));if(selectedTool===_0xdf8125(0xdd))toolBtns[0x0][_0xdf8125(0x145)][_0xdf8125(0x193)](_0xdf8125(0x15b)),toolBtns[0x2][_0xdf8125(0x145)][_0xdf8125(0x14e)]('active');else selectedTool===_0xdf8125(0x12a)&&(toolBtns[0x3][_0xdf8125(0x145)][_0xdf8125(0x193)](_0xdf8125(0x15b)),toolBtns[0x2][_0xdf8125(0x145)][_0xdf8125(0x14e)](_0xdf8125(0x15b)));pipe['style'][_0xdf8125(0x121)]=_0xdf8125(0xf7);let _0x348f4e=_0x5dfba3[_0xdf8125(0x18d)][_0xdf8125(0x189)]();'ontouchstart'in window||window[_0xdf8125(0x146)]&&document instanceof DocumentTouch?(prevMouseX=_0x5dfba3['targetTouches'][0x0]?.[_0xdf8125(0x152)]-_0x348f4e[_0xdf8125(0x13e)],prevMouseY=_0x5dfba3[_0xdf8125(0x13c)][0x0]?.[_0xdf8125(0xe5)]-_0x348f4e[_0xdf8125(0x158)]):(prevMouseX=_0x5dfba3['offsetX'],prevMouseY=_0x5dfba3[_0xdf8125(0x103)]),ctx[_0xdf8125(0x1a7)](),selectedTool==='eraser'?ctx[_0xdf8125(0x19c)]=eraserWidth:ctx[_0xdf8125(0x19c)]=brushWidth,ctx[_0xdf8125(0x177)]=selectedTool===_0xdf8125(0x12a)?'#fef9f5':selectedColor,ctx[_0xdf8125(0x187)]=selectedColor,ctx['lineCap']=_0xdf8125(0x107),ctx[_0xdf8125(0x192)]=_0xdf8125(0x19b),(selectedTool==_0xdf8125(0xdd)||selectedTool==_0xdf8125(0x12a))&&(ctx[_0xdf8125(0x160)](prevMouseX-cursorSize/0x2,prevMouseY-cursorSize/0x2),ctx[_0xdf8125(0x100)]()),snapshot=ctx[_0xdf8125(0xe1)](0x0,0x0,canvas[_0xdf8125(0x122)],canvas[_0xdf8125(0xfc)]);},drawing=_0x48f21c=>{const _0x44ecec=_0x4d2376;if(!isDrawing)return;ctx[_0x44ecec(0x183)](snapshot,0x0,0x0);let _0x3a3968=_0x48f21c[_0x44ecec(0x18d)]['getBoundingClientRect']();_0x44ecec(0x1ae)in window||window[_0x44ecec(0x146)]&&document instanceof DocumentTouch?(newMouseX=_0x48f21c[_0x44ecec(0x13c)][0x0]?.['pageX']-_0x3a3968[_0x44ecec(0x13e)],newMouseY=_0x48f21c[_0x44ecec(0x13c)][0x0]?.[_0x44ecec(0xe5)]-_0x3a3968[_0x44ecec(0x158)]):(newMouseX=_0x48f21c['offsetX'],newMouseY=_0x48f21c[_0x44ecec(0x103)]);if(selectedTool===_0x44ecec(0xdd)||selectedTool==='eraser')ctx[_0x44ecec(0x177)]=selectedTool==='eraser'?_0x44ecec(0x191):selectedColor,ctx[_0x44ecec(0x160)](newMouseX-cursorSize/0x2,newMouseY-cursorSize/0x2),ctx['lineCap']='square',ctx[_0x44ecec(0x192)]='round',ctx['stroke']();else{if(selectedTool===_0x44ecec(0x171))drawRect(_0x48f21c);else{if(selectedTool===_0x44ecec(0x172))drawCircle(_0x48f21c);else{if(selectedTool===_0x44ecec(0x19f))drawTriangle(_0x48f21c);else{if(selectedTool===_0x44ecec(0x140))drawStar(_0x48f21c);else selectedTool===_0x44ecec(0x161)&&drawHexagon(_0x48f21c);}}}}};toolBtns[_0x4d2376(0x16d)]((_0x1f818f,_0x334407)=>{const _0x5732b0=_0x4d2376;_0x1f818f['addEventListener'](_0x5732b0(0x179),()=>{const _0x3d1f0f=_0x5732b0;document[_0x3d1f0f(0xe4)](_0x3d1f0f(0x156))[_0x3d1f0f(0x145)][_0x3d1f0f(0x14e)]('active'),_0x1f818f['classList'][_0x3d1f0f(0x193)](_0x3d1f0f(0x15b)),insidePanel[_0x3d1f0f(0x1ab)]='';if(_0x334407===0x0)selectedTool=_0x1f818f['id'],prevTool='',insidePanel[_0x3d1f0f(0x1ab)]=_0x3d1f0f(0x18c)+brushWidth+_0x3d1f0f(0x15f)+brushWidth+_0x3d1f0f(0x13a),pipe[_0x3d1f0f(0x125)]['top']='2.95vw',pipe['style'][_0x3d1f0f(0x121)]=_0x3d1f0f(0x1a8),sizeSlider=document[_0x3d1f0f(0xe4)](_0x3d1f0f(0x1a5)),sizeSlider['addEventListener'](_0x3d1f0f(0xdc),()=>{const _0x4a7014=_0x3d1f0f;sizeSlider['nextElementSibling'][_0x4a7014(0x163)]=sizeSlider[_0x4a7014(0x170)],cursorSize=parseInt(sizeSlider[_0x4a7014(0x170)]),sizeSlider['nextElementSibling'][_0x4a7014(0x125)][_0x4a7014(0xfb)]=sizeSlider[_0x4a7014(0x170)]/0.601+'%',sizeSlider[_0x4a7014(0x16a)]['style'][_0x4a7014(0x1ad)]='1',brushWidth=sizeSlider[_0x4a7014(0x170)];}),sizeSlider['addEventListener'](_0x3d1f0f(0x173),()=>{const _0x2a3135=_0x3d1f0f;sizeSlider[_0x2a3135(0x16a)]['style'][_0x2a3135(0x1ad)]='0';});else{if(_0x334407===0x1){insidePanel['innerHTML']='<ul\x20class=\x22options\x20colors\x22>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27g\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27p\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27b\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27o\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27r\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27y\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27multi-colors\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22color\x22\x20id=\x22color-picker\x22\x20value=\x22#4A98F7\x22\x20style=\x22width:\x20inherit;height:\x20100%;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20</ul>',pipe[_0x3d1f0f(0x125)][_0x3d1f0f(0x158)]=_0x3d1f0f(0xdb),pipe['style'][_0x3d1f0f(0x121)]=_0x3d1f0f(0x1a8);const _0x16551f=document[_0x3d1f0f(0xe4)]('#color-picker'),_0x4caf82=document[_0x3d1f0f(0x11e)]('.colors\x20.option');_0x4caf82[_0x3d1f0f(0x16d)](_0x1000a7=>{const _0x490dc5=_0x3d1f0f;_0x1000a7[_0x490dc5(0x15e)]('click',()=>{const _0x400599=_0x490dc5;let _0x2f3516=colorsTool['src'][_0x400599(0xeb)]('/');_0x2f3516[_0x400599(0x1a6)](_0x2f3516['length']-0x1,0x1,_0x1000a7['id']+_0x400599(0x143)),setTimeout(()=>{const _0x2a6d97=_0x400599;colorsTool[_0x2a6d97(0x139)]=_0x2f3516[_0x2a6d97(0x162)]()[_0x2a6d97(0x108)](',','/');},0x1f4),spinningEffect(colorsTool),document[_0x400599(0xe4)](_0x400599(0x17e))?.[_0x400599(0x145)][_0x400599(0x14e)](_0x400599(0x186)),_0x1000a7['classList'][_0x400599(0x193)](_0x400599(0x186)),_0x1000a7['id']!=_0x400599(0x199)?selectedColor=window[_0x400599(0x127)](_0x1000a7)['getPropertyValue'](_0x400599(0x17b)):selectedColor=_0x16551f[_0x400599(0x170)];});}),_0x16551f['addEventListener'](_0x3d1f0f(0xdc),()=>{const _0x3732f2=_0x3d1f0f;_0x16551f[_0x3732f2(0x11c)][_0x3732f2(0x125)][_0x3732f2(0x17b)]=_0x16551f[_0x3732f2(0x170)],_0x1f818f['style'][_0x3732f2(0x17b)]=selectedColor,selectedColor=_0x16551f[_0x3732f2(0x170)],setCursor();}),_0x16551f[_0x3d1f0f(0x170)]=selectedColor;}else{if(_0x334407===0x2){prevTool=_0x3d1f0f(0x188),insidePanel[_0x3d1f0f(0x1ab)]='<ul\x20class=\x22options\x20shapes\x22>\x0a\x20<li\x20class=\x22option\x20tool\x20shape\x22\x20id=\x22triangle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/triangle.png\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20tool\x20shape\x22\x20id=\x22star\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/star.png\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20tool\x20shape\x22\x20id=\x22hexagon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/hexagon.png\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20tool\x20shape\x22\x20id=\x22rectangle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/rectangle.png\x22\x20alt=\x22\x22\x20style=\x22width:\x204.4vw;height:\x204.4vw;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20tool\x20shape\x22\x20id=\x22circle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/circle.png\x22\x20alt=\x22\x22\x20style=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22\x20option\x20tool\x20fill\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22fill-color\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22fill-color\x22>ملء\x20الشكل</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li></ul>',fillColor=document[_0x3d1f0f(0xe4)]('#fill-color'),fillColor[_0x3d1f0f(0x164)]=fillValue,fillColor[_0x3d1f0f(0x15e)]('input',()=>{fillValue=fillColor['checked'];});const _0x30036b=document['querySelectorAll'](_0x3d1f0f(0x19d));_0x30036b[_0x3d1f0f(0x16d)](_0x2d7d10=>{const _0x2fd8f7=_0x3d1f0f;_0x2d7d10[_0x2fd8f7(0x15e)](_0x2fd8f7(0x179),_0x48bc59=>{const _0x9ed093=_0x2fd8f7;let _0x319500=shapesTool[_0x9ed093(0x139)][_0x9ed093(0xeb)]('/');_0x319500[_0x9ed093(0x1a6)](_0x319500[_0x9ed093(0x149)]-0x1,0x1,_0x2d7d10['id']+_0x9ed093(0x143)),setTimeout(()=>{const _0x20233e=_0x9ed093;shapesTool[_0x20233e(0x139)]=_0x319500[_0x20233e(0x162)]()[_0x20233e(0x108)](',','/');},0x1f4),spinningEffect(shapesTool);if(_0x2d7d10['id']===_0x9ed093(0x172))selectedTool=_0x9ed093(0x172);else{if(_0x2d7d10['id']===_0x9ed093(0x171))selectedTool='rectangle';else{if(_0x2d7d10['id']===_0x9ed093(0x19f))selectedTool=_0x9ed093(0x19f);else{if(_0x2d7d10['id']===_0x9ed093(0x140))selectedTool=_0x9ed093(0x140);else _0x2d7d10['id']===_0x9ed093(0x161)&&(selectedTool=_0x9ed093(0x161));}}}});}),pipe[_0x3d1f0f(0x125)][_0x3d1f0f(0x158)]=_0x3d1f0f(0x169),pipe['style'][_0x3d1f0f(0x121)]='block';}else _0x334407===0x3&&(selectedTool=_0x1f818f['id'],prevTool='',insidePanel[_0x3d1f0f(0x1ab)]=_0x3d1f0f(0x12f)+eraserWidth+_0x3d1f0f(0x15f)+eraserWidth+_0x3d1f0f(0xfd),pipe[_0x3d1f0f(0x125)][_0x3d1f0f(0x158)]=_0x3d1f0f(0x105),pipe[_0x3d1f0f(0x125)][_0x3d1f0f(0x121)]='block',sizeSlider=document['querySelector'](_0x3d1f0f(0x184)),sizeSlider[_0x3d1f0f(0x15e)](_0x3d1f0f(0xdc),()=>{const _0x2d0410=_0x3d1f0f;sizeSlider[_0x2d0410(0x16a)][_0x2d0410(0x163)]=sizeSlider[_0x2d0410(0x170)],sizeSlider['nextElementSibling'][_0x2d0410(0x125)][_0x2d0410(0xfb)]=sizeSlider['value']/0.601+'%',sizeSlider[_0x2d0410(0x16a)]['style'][_0x2d0410(0x1ad)]='1',eraserWidth=sizeSlider['value'];}),sizeSlider[_0x3d1f0f(0x15e)](_0x3d1f0f(0x173),()=>{const _0xbfd3ee=_0x3d1f0f;sizeSlider[_0xbfd3ee(0x16a)][_0xbfd3ee(0x125)][_0xbfd3ee(0x1ad)]='0';}));}}}),_0x1f818f[_0x5732b0(0x15e)](_0x5732b0(0x10f),()=>{const _0x4764f8=_0x5732b0;document[_0x4764f8(0xe4)](_0x4764f8(0x156))['classList'][_0x4764f8(0x14e)](_0x4764f8(0x15b)),_0x1f818f[_0x4764f8(0x145)][_0x4764f8(0x193)](_0x4764f8(0x15b)),_0x1f818f['id']!==_0x4764f8(0x141)&&(selectedTool=_0x1f818f['id']);});}),clearCanvasBtn[_0x4d2376(0x15e)](_0x4d2376(0x179),()=>{const _0x38136c=_0x4d2376;openModel(clearCanvasFunc,{'icon':'./assets/q-icon.png','h1':_0x38136c(0x15d),'btns':{'btn1':_0x38136c(0x17d),'btn2':'yes-btn'}});});function _0x1d7e(_0x3a9aaf,_0xb8d318){const _0x4853aa=_0x4853();return _0x1d7e=function(_0x1d7ed7,_0x5ca704){_0x1d7ed7=_0x1d7ed7-0xd4;let _0xdc2015=_0x4853aa[_0x1d7ed7];return _0xdc2015;},_0x1d7e(_0x3a9aaf,_0xb8d318);}const clearCanvasFunc=()=>{const _0xf2e3e8=_0x4d2376;ctx[_0xf2e3e8(0x136)](0x0,0x0,canvas[_0xf2e3e8(0x122)],canvas[_0xf2e3e8(0xfc)]),setCanvasBackground(),saveSnapshot();};saveImg[_0x4d2376(0x15e)](_0x4d2376(0x179),()=>{saveDrawings();});const saveSnapshot=_0x3b57fb=>{const _0x2e66ee=_0x4d2376;redoStack=[],undoStack['push'](ctx['getImageData'](0x0,0x0,canvas[_0x2e66ee(0x122)],canvas[_0x2e66ee(0xfc)])),checkDoBtnsState();},undoFunc=_0x3d572f=>{const _0x4d897=_0x4d2376;isSaved=![];if(undoStack[_0x4d897(0x149)]>0x1){let _0x24e044=undoStack[_0x4d897(0xf0)]();redoStack['push'](_0x24e044);const _0x1118f7=undoStack[undoStack['length']-0x1];ctx[_0x4d897(0x183)](_0x1118f7,0x0,0x0);}else{if(undoStack[_0x4d897(0x149)]==0x1){let _0x126219=undoStack[_0x4d897(0xf0)]();redoStack['push'](_0x126219),ctx['clearRect'](0x0,0x0,canvas['width'],canvas[_0x4d897(0xfc)]);}}checkDoBtnsState();},redoFunc=_0x466bbb=>{const _0x1879d3=_0x4d2376;isSaved=![];if(redoStack[_0x1879d3(0x149)]>0x0){let _0x5b2be7=redoStack[_0x1879d3(0xf0)]();undoStack['push'](_0x5b2be7);const _0x4adecb=undoStack[undoStack['length']-0x1];ctx['putImageData'](_0x4adecb,0x0,0x0);}checkDoBtnsState();};undoBtn['addEventListener'](_0x4d2376(0x179),undoFunc,![]),redoBtn[_0x4d2376(0x15e)](_0x4d2376(0x179),redoFunc,![]);const checkDoBtnsState=()=>{const _0x479e95=_0x4d2376;!redoStack['length']?(redoBtn[_0x479e95(0x125)][_0x479e95(0x1ad)]='.5',redoBtn[_0x479e95(0x125)][_0x479e95(0x144)]=_0x479e95(0x14f),redoBtn['setAttribute'](_0x479e95(0xd9),!![])):(redoBtn[_0x479e95(0x125)]['opacity']='1',redoBtn[_0x479e95(0x125)][_0x479e95(0x144)]=_0x479e95(0x12b),redoBtn[_0x479e95(0x10c)](_0x479e95(0xd9))),!undoStack['length']?(undoBtn[_0x479e95(0x125)][_0x479e95(0x1ad)]='.5',undoBtn[_0x479e95(0x125)][_0x479e95(0x144)]='initial',undoBtn[_0x479e95(0x17a)]('disabled',!![])):(undoBtn['style'][_0x479e95(0x1ad)]='1',undoBtn[_0x479e95(0x125)]['cursor']='pointer',undoBtn['removeAttribute']('disabled'));},setCursor=()=>{const _0x27062f=_0x4d2376;let _0xf4430d=selectedColor,_0x4a4c0b=0x0;selectedTool==_0x27062f(0x12a)?(_0xf4430d='#5a5a5a',_0x4a4c0b=0x1):(_0xf4430d=selectedColor,_0x4a4c0b=0x0);if(selectedTool==_0x27062f(0xdd)||selectedTool=='eraser'||prevTool==_0x27062f(0x188)){cursorSize=sizeSlider?parseInt(sizeSlider[_0x27062f(0x170)]):0x5;if(cursorSize<=0x4){canvas[_0x27062f(0x125)]['cursor']=_0x27062f(0xd4);return;}canvas[_0x27062f(0x125)][_0x27062f(0x144)]=_0x27062f(0xf8)+cursorSize+_0x27062f(0x1af)+cursorSize+_0x27062f(0x19a)+cursorSize*0x2+'\x22\x20fill=\x22'+_0xf4430d[_0x27062f(0xfe)]('#',_0x27062f(0x1a4))+'\x22/></g></svg>\x27)\x20'+cursorSize*0x2+'\x20'+cursorSize*0x2+_0x27062f(0x150);}};checkDoBtnsState(),canvas[_0x4d2376(0x15e)]('mousedown',startDraw),canvas[_0x4d2376(0x15e)](_0x4d2376(0xe3),drawing),canvas[_0x4d2376(0x15e)](_0x4d2376(0xf1),()=>{isDrawing=![],saveSnapshot();});const func=_0x5bc3b3=>{const _0x5cd747=_0x4d2376,_0xc29e99=canvas[_0x5cd747(0x189)]();if(_0x5bc3b3[_0x5cd747(0x116)]>_0xc29e99[_0x5cd747(0xd5)]||_0x5bc3b3[_0x5cd747(0x116)]<_0xc29e99[_0x5cd747(0x13e)]||_0x5bc3b3[_0x5cd747(0x109)]>_0xc29e99[_0x5cd747(0xfb)]||_0x5bc3b3[_0x5cd747(0x109)]<_0xc29e99[_0x5cd747(0x158)]){isDrawing=![],saveSnapshot();return;}};canvas[_0x4d2376(0x15e)](_0x4d2376(0x130),_0xf7fa2f=>{const _0x31a5af=_0x4d2376;_0xf7fa2f['buttons']==0x1&&window['addEventListener'](_0x31a5af(0xf1),func);}),window[_0x4d2376(0x15e)]('mousedown',()=>window[_0x4d2376(0x1a3)](_0x4d2376(0xf1),func)),canvas[_0x4d2376(0x15e)](_0x4d2376(0xf4),setCursor),canvas['addEventListener']('touchstart',_0xcb636b=>{startDraw(_0xcb636b);}),canvas['addEventListener'](_0x4d2376(0x132),_0x5d83f9=>{const _0x537787=_0x4d2376;_0x5d83f9[_0x537787(0x12c)](),drawing(_0x5d83f9);}),canvas[_0x4d2376(0x15e)]('touchend',_0x5570e4=>{isDrawing=![],saveSnapshot();}),addImg[_0x4d2376(0x13f)]=()=>{const _0x1611c1=_0x4d2376;fileInput[_0x1611c1(0x179)]();},fileInput['addEventListener']('change',function(_0x37e098){const _0x20e087=_0x4d2376,_0x510757=_0x37e098[_0x20e087(0x18d)][_0x20e087(0x10d)][0x0];reader[_0x20e087(0xde)]=function(_0x5d9b9c){const _0x506d77=_0x20e087,_0x2b840b=new Image();_0x2b840b[_0x506d77(0xde)]=function(){readImage(_0x2b840b);},_0x2b840b[_0x506d77(0x139)]=_0x5d9b9c[_0x506d77(0x18d)]['result'];},reader[_0x20e087(0x15a)](_0x510757);});const readImage=_0x5e0872=>{const _0x262c0f=_0x4d2376;let _0x52fd43=new createjs[(_0x262c0f(0xdf))]();_0x52fd43[_0x262c0f(0x154)][_0x262c0f(0x135)](_0x262c0f(0x191))['drawRect'](0x0,0x0,stage[_0x262c0f(0x15c)][_0x262c0f(0x122)],stage['canvas']['height']);let _0x1e00e2=new createjs[(_0x262c0f(0xdf))]();_0x52fd43[_0x262c0f(0x154)][_0x262c0f(0x135)](_0x262c0f(0x117))['drawRect'](0x0,0x0,stage[_0x262c0f(0x15c)]['width'],stage[_0x262c0f(0x15c)][_0x262c0f(0xfc)]),_0x5e0872[_0x262c0f(0x125)]['transform']=_0x262c0f(0x118);const _0x23f10c=new createjs[(_0x262c0f(0xe6))](_0x5e0872),_0x211059=stage[_0x262c0f(0x15c)][_0x262c0f(0x122)],_0x5f2929=stage[_0x262c0f(0x15c)][_0x262c0f(0xfc)],_0x352dea=_0x5e0872[_0x262c0f(0x122)],_0x19a610=_0x5e0872[_0x262c0f(0xfc)],_0x499b5c=_0x211059/_0x352dea,_0x34af4d=_0x5f2929/_0x19a610,_0x2665fa=Math['min'](_0x499b5c,_0x34af4d);_0x23f10c['scaleX']=_0x2665fa,_0x23f10c['scaleY']=_0x2665fa,_0x23f10c['x']=(_0x211059-_0x352dea*_0x2665fa)/0x2,_0x23f10c['y']=(_0x5f2929-_0x19a610*_0x2665fa)/0x2,stage[_0x262c0f(0x1aa)]=[],stage['addChild'](_0x52fd43),stage[_0x262c0f(0x1a2)](_0x23f10c),stage[_0x262c0f(0x1a2)](_0x1e00e2),stage[_0x262c0f(0x1a1)](),saveSnapshot();},gallery=document['querySelector'](_0x4d2376(0x18e));gallery[_0x4d2376(0x15e)](_0x4d2376(0x179),_0x2ea9da=>{const _0x465067=_0x4d2376;canvas[_0x465067(0x17c)](function(_0x1ae8df){const _0x23db3a=_0x465067,_0x310fc3=new File([_0x1ae8df],_0x23db3a(0x131),{'type':_0x23db3a(0xf3)});});if(drawings){const _0x137c22=()=>{const _0x1fc279=_0x465067;undoStack=[],redoStack=[];const _0x55fc39=document['createElement'](_0x1fc279(0x101));_0x55fc39[_0x1fc279(0x104)]='home-page';const _0x4a57d8=JSON[_0x1fc279(0x137)](localStorage[_0x1fc279(0xe2)](_0x1fc279(0x195)));setCanvasBackground();let _0x2d0f69='';if(_0x4a57d8&&_0x4a57d8['length']===0x1)_0x2d0f69=_0x1fc279(0xec)+_0x4a57d8[0x0][0x1]+_0x1fc279(0x138);else{if(_0x4a57d8&&_0x4a57d8['length']>0x1){_0x2d0f69=_0x1fc279(0x114);if(_0x4a57d8[_0x1fc279(0x149)]%0x2===0x0)for(let _0x140ea6=0x0;_0x140ea6<_0x4a57d8['length'];_0x140ea6+=0x2){for(let _0x36db7c=0x0;_0x36db7c<0x2;_0x36db7c++){_0x2d0f69+=_0x1fc279(0xe0)+_0x4a57d8[_0x140ea6+_0x36db7c][0x1]+_0x1fc279(0x151);}_0x140ea6+0x2<_0x4a57d8['length']&&(_0x2d0f69+=_0x1fc279(0x16e));}else for(let _0x2b67af=0x0;_0x2b67af<_0x4a57d8[_0x1fc279(0x149)];_0x2b67af++){_0x2d0f69+=_0x1fc279(0xe0)+_0x4a57d8[_0x2b67af][0x1]+_0x1fc279(0x151),_0x2b67af!=_0x4a57d8[_0x1fc279(0x149)]-0x1&&_0x2b67af%0x2===0x1&&(_0x2d0f69+=_0x1fc279(0x16e));}_0x2d0f69+='</div></div>';}else _0x2d0f69+=_0x1fc279(0xf6);}_0x55fc39[_0x1fc279(0x1ab)]=_0x2d0f69,document[_0x1fc279(0x134)][_0x1fc279(0x1ac)](_0x55fc39),setHomeFunc();const _0x43e4e7=document[_0x1fc279(0x11e)](_0x1fc279(0x16b)),_0x14ca41=document[_0x1fc279(0x11e)](_0x1fc279(0x175));_0x43e4e7['forEach'](_0x30d5f9=>{const _0x548a49=_0x1fc279;_0x30d5f9[_0x548a49(0x15e)](_0x548a49(0x179),()=>{const _0x4b8d8b=_0x548a49,_0x344a8d=new Image();_0x344a8d['src']=_0x30d5f9[_0x4b8d8b(0x16a)]['src'],_0x344a8d['onload']=function(){const _0x10e880=_0x4b8d8b;let _0x49b6e3=new createjs[(_0x10e880(0xdf))]();_0x49b6e3['graphics'][_0x10e880(0x135)]('#fef9f5')[_0x10e880(0x18a)](0x0,0x0,stage[_0x10e880(0x15c)][_0x10e880(0x122)],stage[_0x10e880(0x15c)][_0x10e880(0xfc)]),_0x344a8d['style'][_0x10e880(0x181)]='rotate(90deg)';const _0x32b76a=new createjs['Bitmap'](_0x344a8d),_0x2ad24c=stage[_0x10e880(0x15c)][_0x10e880(0x122)],_0x4447e1=stage['canvas']['height'],_0x46192f=_0x344a8d[_0x10e880(0x122)],_0x456085=_0x344a8d[_0x10e880(0xfc)],_0xb0c0a1=_0x2ad24c/_0x46192f,_0x294e1c=_0x4447e1/_0x456085,_0x38a705=Math[_0x10e880(0x1b0)](_0xb0c0a1,_0x294e1c);_0x32b76a[_0x10e880(0xd8)]=_0x38a705,_0x32b76a[_0x10e880(0x194)]=_0x38a705,_0x32b76a['x']=(_0x2ad24c-_0x46192f*_0x38a705)/0x2,_0x32b76a['y']=(_0x4447e1-_0x456085*_0x38a705)/0x2,stage['children']=[],stage[_0x10e880(0x1a2)](_0x49b6e3),stage[_0x10e880(0x1a2)](_0x32b76a),stage[_0x10e880(0x1a1)]();const _0x76d9b=document[_0x10e880(0x167)]('a');_0x76d9b[_0x10e880(0x124)]=Date['now']()+_0x10e880(0x143),_0x76d9b[_0x10e880(0x126)]=canvas['toDataURL'](_0x10e880(0xf3)),_0x76d9b[_0x10e880(0x179)](),setCanvasBackground();};});}),_0x14ca41['forEach']((_0x4c74d7,_0x54d380)=>{const _0x1dcf6e=()=>{const _0x234a67=_0x1d7e;_0x4a57d8['splice'](_0x54d380,0x1),localStorage[_0x234a67(0xea)](_0x234a67(0x195),JSON[_0x234a67(0x17f)](_0x4a57d8)),_0x11cb23[_0x234a67(0x14e)](),_0x137c22();};_0x4c74d7['onclick']=()=>{const _0x37e61e=_0x1d7e;openModel(_0x1dcf6e,{'icon':_0x37e61e(0x123),'h1':_0x37e61e(0x148),'btns':{'btn1':_0x37e61e(0x17d),'btn2':_0x37e61e(0x14c)}});};});const _0x22ee4a=document[_0x1fc279(0x11e)](_0x1fc279(0x16f)),_0x11cb23=document[_0x1fc279(0xe4)]('.home-page');_0x22ee4a[_0x1fc279(0x16d)]((_0x1efe03,_0xeaf2ba)=>{_0x1efe03['onclick']=()=>{const _0x3a19e5=_0x1d7e,_0x157abb=new Image();_0x157abb[_0x3a19e5(0x139)]=_0x1efe03[_0x3a19e5(0x139)],_0x157abb['onload']=function(){readImage(_0x157abb),currDrawing=_0x4a57d8[_0xeaf2ba][0x0],isSaved=!![];},_0x11cb23['remove']();};});};if((undoStack['length']||redoStack[_0x465067(0x149)])&&!isSaved)openModel(_0x137c22,{'icon':'./assets/q-icon.png','h1':'هل\x20ترغب\x20في\x20الخروج\x20دون\x20حفظ\x20التغييرات؟','btns':{'btn1':_0x465067(0x17d),'btn2':'yes-btn'}});else _0x137c22();}else openModel(()=>{},{'icon':'./assets/i-icon.png','h1':'لا\x20يوجد\x20لديك\x20رسومات\x20محفوظة.','btns':{'btn1':_0x465067(0x113)}});},![]);const spinningEffect=_0x21d39d=>{const _0x144789=_0x4d2376,_0x4f052f=[{'transform':_0x144789(0xfa)},{'transform':_0x144789(0xda)},{'transform':'rotate(0)\x20scale(1)'}],_0x261df0={'duration':0x3e8,'iterations':0x1};_0x21d39d['animate'](_0x4f052f,_0x261df0);},openModel=(_0x2c1151,_0x41db09)=>{const _0x5f542e=_0x4d2376,_0x4b2d61=document[_0x5f542e(0xe4)]('.popup'),_0x273c4b=document['querySelector'](_0x5f542e(0x18f)),_0x39e803=document[_0x5f542e(0xe4)](_0x5f542e(0x13b)),_0x311dfd=document[_0x5f542e(0xe4)](_0x5f542e(0x119));_0x4b2d61[_0x5f542e(0x125)][_0x5f542e(0x181)]='translate(-50%,\x20-50%)',_0x4b2d61['style']['zIndex']=_0x5f542e(0x112),_0x39e803[_0x5f542e(0x139)]=_0x41db09[_0x5f542e(0x157)],_0x311dfd[_0x5f542e(0x163)]=_0x41db09['h1'];let _0x6af8e5='';Object[_0x5f542e(0x120)](_0x41db09['btns'])['forEach'](_0x2ba087=>{const _0x43c45c=_0x5f542e;_0x6af8e5+=_0x43c45c(0xf9)+_0x2ba087+_0x43c45c(0xff);}),_0x273c4b[_0x5f542e(0x1ab)]=_0x6af8e5,document[_0x5f542e(0x134)]['classList'][_0x5f542e(0x193)](_0x5f542e(0x16c)),_0x273c4b[_0x5f542e(0x15e)](_0x5f542e(0x179),function(){const _0x251a40=_0x5f542e;_0x273c4b[_0x251a40(0x11c)][_0x251a40(0x125)][_0x251a40(0x181)]=_0x251a40(0xe7),setTimeout(()=>{const _0x304759=_0x251a40;document[_0x304759(0x134)][_0x304759(0x145)][_0x304759(0x14e)](_0x304759(0x16c));},0x1f4);}),_0x273c4b[_0x5f542e(0x1aa)][0x1]?.[_0x5f542e(0x15e)]('click',_0x2c1151);};