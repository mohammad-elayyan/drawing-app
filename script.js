const _0x4bb7a5=_0x6966;function _0xf650(){const _0x46cebd=['appendChild','canvas','left','toDataURL','offsetX','offsetWidth','crosshair','getElementById','parentElement','target','6526632hQAgsF','beginFill','</div><div\x20class=\x22row\x22>','ok-btn','src','315HoPshY','arc','.home-page\x20.start\x20img','converted_image.png','translate(-50%,\x20-500%)','<div\x20class=\x22overlay\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22home\x20home-2\x22\x20title=\x22الرئيسية\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div><div\x20class=\x22lib\x20lib2\x22><div\x20class=\x22row\x22><div\x20class=\x22outer-img\x22><button\x20class=\x22delete-my-drawing\x22\x20title=\x22حذف\x22></button><button\x20class=\x22download\x22\x20title=\x22تحميل\x22></button><img\x20src=\x22','addChild','pointer','replaceAll','body','Stage','getItem','innerText','offsetY','lib-img','onload','<div\x20class=\x22outer-img\x22><button\x20class=\x22delete-my-drawing\x22\x20title=\x22حذف\x22></button><button\x20class=\x22download\x22\x20title=\x22تحميل\x22></button><img\x20src=\x22','href','clientX','\x22\x20fill=\x22','cursor','active','opacity','<div\x20class=\x22overlay\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22home\x20home-2\x22\x20title=\x22الرئيسية\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div><div\x20class=\x22lib\x20lib2\x22><div\x20class=\x22row\x22>','.options\x20.active','removeAttribute','#f2f2f2','value','innerHTML','.tool','mousemove','</div></div>','touchmove','classList','setItem','height','%23','translate(-50%,\x20-50%)','split','parse','square','preventDefault','mouseover','.home-page','.shapes\x20.shape','drawRect','eraser','colors','pageX','push','.clear-canvas','indexOf','moveTo','yes-btn','scaleX','bottom','forEach','rectangle','4616156ocwlZF','<ul\x20class=\x22options\x22><li\x20class=\x22option\x20slider\x22>\x0a\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20id=\x22brush-size\x22\x20min=\x221\x22\x20max=\x2250\x22\x20value=\x22','mouseout','rotate(0)\x20scale(1)','shapes','fillRect','\x22\x20/></div>','\x22\x20height=\x22','#5a5a5a','./assets/i-icon.png','.delete-my-drawing','remove','تم\x20حفظ\x20رسمتك\x20بنجاح.','graphics','لا\x20توجد\x20رسوم\x20للحفظ.','.home-page\x20.lib\x20img','checked','rotate(90deg)','scaleY','clearRect','1449504RcAVQJ','now','toBlob','click','className','url(\x27data:image/svg+xml;utf8,<svg\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20viewBox=\x220\x200\x2032\x2032\x22\x20width=\x22','right','24vw','round','./assets/tr-icon.png','image/png','touchend','26845173SPPtUy','createElement','getComputedStyle','7554064qImKjv','rotate(360deg)\x20scale(0)','17.14vw','cos','getBoundingClientRect','brush','mouseup','Shape','transform','2.95vw','drawings','</div>\x0a\x20\x20\x20\x20</li></ul>','top','.popup\x20h1','closePath','ontouchstart','onclick','values','blur','<ul\x20class=\x22options\x20shapes\x22>\x0a\x20<li\x20class=\x22option\x20tool\x20shape\x22\x20id=\x22triangle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/triangle.png\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20tool\x20shape\x22\x20id=\x22star\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/star.png\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20tool\x20shape\x22\x20id=\x22hexagon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/hexagon.png\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20tool\x20shape\x22\x20id=\x22rectangle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/rectangle.png\x22\x20alt=\x22\x22\x20style=\x22width:\x204.4vw;height:\x204.4vw;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20tool\x20shape\x22\x20id=\x22circle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/circle.png\x22\x20alt=\x22\x22\x20style=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22\x20option\x20tool\x20fill\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22fill-color\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22fill-color\x22>ملء\x20الشكل</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li></ul>','home-page','999','nextElementSibling','\x22><g\x20id=\x22Layer_1-2\x22\x20data-name=\x22Layer\x201\x22><circle\x20class=\x22cls-1\x22\x20cx=\x2216\x22\x20cy=\x2216\x22\x20r=\x22','input','lineWidth','stringify','btns','targetTouches','initial','zIndex','putImageData','setAttribute','10GnWgiN','getContext','\x22></button>','<div\x20class=\x22overlay\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22home\x20home-2\x22\x20title=\x22الرئيسية\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div><div\x20class=\x22lib\x20lib2\x22\x20style=\x22justify-content:center;align-items:center;\x22><h1>لا\x20يوجد\x20رسومات\x20محفوظة.</h1></div>','#fill-color','هل\x20ترغب\x20في\x20الخروج\x20دون\x20حفظ\x20التغييرات؟','pageY','mousedown','add','div','readAsDataURL','هل\x20ترغب\x20في\x20حذف\x20هذه\x20الرسمة؟','#brush-size','multi-colors','4499958xSYuTQ','sqrt','.redo','disabled','</div>\x0a\x20\x20\x20\x20\x20\x20</li></ul>','children','block','min','querySelector','.download','getImageData','fill','2FizpMe','result','toString','.options\x20.selected','animate','addEventListener','update','touchstart','triangle','<div\x20class=\x22overlay\x22></div>\x0a\x20\x20<div\x20class=\x22start\x22>\x0a\x20\x20\x20\x20<img\x20src=\x22./assets/library/new.png\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20<img\x20src=\x22./assets/library/lib.png\x22\x20alt=\x22\x22>\x0a\x20\x20</div>','Bitmap','style','.tools-board','strokeRect','لا\x20يوجد\x20لديك\x20رسومات\x20محفوظة.','append','star','display','hexagon','./assets/q-icon.png','lineJoin','popup-overlay','DocumentTouch','querySelectorAll','.pipe','splice','offsetHeight','.colors\x20.option','هل\x20ترغب\x20في\x20حذف\x20جميع\x20الرسومات\x20الخاصة\x20بك؟','length','<ul\x20class=\x22options\x20colors\x22>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27g\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27p\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27b\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27o\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27r\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27y\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27multi-colors\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22color\x22\x20id=\x22color-picker\x22\x20value=\x22#4A98F7\x22\x20style=\x22width:\x20inherit;height:\x20100%;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20</ul>','no-btn','stroke','#eraser-size','sin','.home','#add-img','lineTo','\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22slider-value\x22>','beginPath','pow','129666WhaPUC','circle','pop','<ul\x20class=\x22options\x22><li\x20class=\x22option\x20slider\x22>\x0a\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20id=\x22eraser-size\x22\x20min=\x221\x22\x20max=\x2250\x22\x20value=\x22','.popup-btn','strokeStyle','fillStyle','resize','.save-img','getPropertyValue','width','<button\x20class=\x22','.gallery','load','.lib\x20.row\x20img'];_0xf650=function(){return _0x46cebd;};return _0xf650();}(function(_0x33b45b,_0x29c6a0){const _0x419b33=_0x6966,_0xe7362f=_0x33b45b();while(!![]){try{const _0x421f84=-parseInt(_0x419b33(0x1b6))/0x1+-parseInt(_0x419b33(0x200))/0x2*(-parseInt(_0x419b33(0x1f4))/0x3)+-parseInt(_0x419b33(0x1a2))/0x4+parseInt(_0x419b33(0x168))/0x5*(-parseInt(_0x419b33(0x229))/0x6)+parseInt(_0x419b33(0x1c5))/0x7+-parseInt(_0x419b33(0x163))/0x8+parseInt(_0x419b33(0x1c2))/0x9*(parseInt(_0x419b33(0x1e6))/0xa);if(_0x421f84===_0x29c6a0)break;else _0xe7362f['push'](_0xe7362f['shift']());}catch(_0x17520b){_0xe7362f['push'](_0xe7362f['shift']());}}}(_0xf650,0xbeb0e));function _0x6966(_0x20fc53,_0x2d73f9){const _0xf650ab=_0xf650();return _0x6966=function(_0x6966d,_0x5e7eb5){_0x6966d=_0x6966d-0x15d;let _0x357fdd=_0xf650ab[_0x6966d];return _0x357fdd;},_0x6966(_0x20fc53,_0x2d73f9);}const canvas=document[_0x4bb7a5(0x1fc)]('canvas'),homePage=document[_0x4bb7a5(0x1fc)](_0x4bb7a5(0x193)),colorsTool=document[_0x4bb7a5(0x160)]('colors')[_0x4bb7a5(0x1f9)][0x0],shapesTool=document[_0x4bb7a5(0x160)](_0x4bb7a5(0x1a6))[_0x4bb7a5(0x1f9)][0x0],toolBtns=document[_0x4bb7a5(0x217)](_0x4bb7a5(0x185)),clearCanvasBtn=document[_0x4bb7a5(0x1fc)](_0x4bb7a5(0x19a)),saveImg=document[_0x4bb7a5(0x1fc)](_0x4bb7a5(0x231)),addImg=document['querySelector'](_0x4bb7a5(0x224)),ctx=canvas[_0x4bb7a5(0x1e7)]('2d',{'willReadFrequently':!![]}),undoBtn=document[_0x4bb7a5(0x1fc)]('.undo'),redoBtn=document['querySelector'](_0x4bb7a5(0x1f6)),pipe=document[_0x4bb7a5(0x1fc)](_0x4bb7a5(0x218)),toolsBoard=document[_0x4bb7a5(0x1fc)](_0x4bb7a5(0x20c)),popupBtns=document[_0x4bb7a5(0x217)](_0x4bb7a5(0x22d)),insidePanel=document[_0x4bb7a5(0x1fc)]('.inside-panel');let prevMouseX,fillColor,sizeSlider,prevMouseY,prevTool='',newMouseX,newMouseY,snapshot,elements=[],undoStack=[],redoStack=[],isDrawing=![],selectedTool='brush',brushWidth=0x5,eraserWidth=0x5,fillValue=![],isSaved=![],cursorSize=0x5,selectedColor='#000';const reader=new FileReader(),stage=new createjs[(_0x4bb7a5(0x172))](_0x4bb7a5(0x239)),fileInput=document[_0x4bb7a5(0x160)]('fileInput'),setHomeFunc=()=>{const _0x29b2f4=_0x4bb7a5,_0x1492af=document[_0x29b2f4(0x217)](_0x29b2f4(0x223)),_0x5e33d1=()=>{const _0x9f4603=_0x29b2f4,_0x17b49a=document[_0x9f4603(0x1fc)](_0x9f4603(0x193));setCanvasBackground(),undoStack=[],redoStack=[],checkDoBtnsState();_0x17b49a&&_0x17b49a[_0x9f4603(0x1ad)]();currDrawing='';const _0x1cb91d=document[_0x9f4603(0x1c3)](_0x9f4603(0x1ef));_0x1cb91d[_0x9f4603(0x1ba)]=_0x9f4603(0x1d9),_0x1cb91d['innerHTML']=_0x9f4603(0x209),document[_0x9f4603(0x171)][_0x9f4603(0x20f)](_0x1cb91d),setHomePageBtns();};_0x1492af[_0x29b2f4(0x1a0)](_0x1d02cd=>{_0x1d02cd['onclick']=()=>{const _0xd1d79a=_0x6966;undoStack[_0xd1d79a(0x21d)]||redoStack[_0xd1d79a(0x21d)]?openModel(_0x5e33d1,{'icon':_0xd1d79a(0x213),'h1':_0xd1d79a(0x1eb),'btns':{'btn1':_0xd1d79a(0x21f),'btn2':_0xd1d79a(0x19d)}}):_0x5e33d1();};});},setHomePageBtns=()=>{const _0x53551c=_0x4bb7a5,_0xe9a212=document[_0x53551c(0x217)](_0x53551c(0x16a)),_0x147c38=document[_0x53551c(0x1fc)](_0x53551c(0x193));_0xe9a212['forEach']((_0x25d0fd,_0xd59ba8)=>{const _0x37bbca=_0x53551c;_0x25d0fd[_0x37bbca(0x1d5)]=()=>{const _0x2edf27=_0x37bbca;switch(_0xd59ba8){case 0x0:_0x147c38[_0x2edf27(0x1ad)]();break;case 0x1:_0x147c38[_0x2edf27(0x1f9)][0x1]['remove'](),_0x147c38[_0x2edf27(0x184)]='<div\x20class=\x22overlay\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22home\x20home-2\x22\x20title=\x22الرئيسية\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22lib\x22><div\x20class=\x22row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/btn-1.png\x22\x20id=\x22img-1\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/btn-2.png\x22\x20id=\x22img-2\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/btn-3.png\x22\x20id=\x22img-3\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/btn-4.png\x22\x20id=\x22img-4\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';const _0x396ea5=document[_0x2edf27(0x217)](_0x2edf27(0x237)),_0xb8d8aa=document['getElementById'](_0x2edf27(0x176));_0x396ea5[_0x2edf27(0x1a0)](_0x38dd45=>{const _0x2f7078=_0x2edf27;_0x38dd45['addEventListener'](_0x2f7078(0x1b9),()=>{const _0x277786=_0x2f7078;let _0x4c870f=_0x38dd45[_0x277786(0x167)][_0x277786(0x18e)]('/');_0x4c870f[_0x277786(0x219)](_0x4c870f[_0x277786(0x21d)]-0x1,0x1,_0x38dd45['id']+'.png'),_0x4c870f=_0x4c870f[_0x277786(0x202)]()[_0x277786(0x170)](',','/');const _0x2b394e=new Image();_0x2b394e['src']=_0x4c870f,_0x2b394e[_0x277786(0x177)]=function(){const _0x1cb930=_0x277786;readImage(_0x2b394e),_0x147c38[_0x1cb930(0x1ad)]();};});});break;default:break;}setHomeFunc();};});};setHomePageBtns();const setCanvasBackground=()=>{const _0x33f0e4=_0x4bb7a5;ctx[_0x33f0e4(0x22f)]=_0x33f0e4(0x182),ctx['fillRect'](0x0,0x0,canvas[_0x33f0e4(0x233)],canvas['height']),ctx[_0x33f0e4(0x22f)]=selectedColor;};let drawings=[];localStorage[_0x4bb7a5(0x173)](_0x4bb7a5(0x1cf))&&(drawings=JSON[_0x4bb7a5(0x18f)](localStorage[_0x4bb7a5(0x173)](_0x4bb7a5(0x1cf))));let currDrawing='';const saveDrawings=()=>{const _0x4ad07a=_0x4bb7a5;if(undoStack[_0x4ad07a(0x21d)]==0x0){openModel(()=>{},{'icon':'./assets/i-icon.png','h1':_0x4ad07a(0x1b0),'btns':{'btn1':_0x4ad07a(0x166)}});return;}isSaved=!![],drawings=JSON[_0x4ad07a(0x18f)](localStorage[_0x4ad07a(0x173)]('drawings')),canvas['toBlob'](function(_0x1522cd){const _0x35f9f8=_0x4ad07a;reader[_0x35f9f8(0x1f0)](_0x1522cd),reader['onload']=()=>{const _0x5a6921=_0x35f9f8;let _0x4f2db6='d'+_0x1522cd['size']+'-'+performance[_0x5a6921(0x1b7)]()/0x3e8,_0x1f09a7=[];if(drawings&&drawings[_0x5a6921(0x21d)]){for(let _0x4baee0=0x0;_0x4baee0<drawings[_0x5a6921(0x21d)];_0x4baee0++){_0x1f09a7['push'](drawings[_0x4baee0][0x0]),currDrawing&&drawings[_0x4baee0][0x0]==currDrawing&&(drawings[_0x4baee0][0x1]=reader[_0x5a6921(0x201)]);}_0x1f09a7[_0x5a6921(0x19b)](currDrawing)===-0x1&&drawings['push']([_0x4f2db6,reader[_0x5a6921(0x201)]]),localStorage[_0x5a6921(0x18a)](_0x5a6921(0x1cf),JSON[_0x5a6921(0x1df)](drawings)),openModel(()=>{},{'icon':_0x5a6921(0x1bf),'h1':_0x5a6921(0x1ae),'btns':{'btn1':'ok-btn'}});}else drawings=[],drawings[_0x5a6921(0x199)]([_0x4f2db6,reader[_0x5a6921(0x201)]]),localStorage[_0x5a6921(0x18a)](_0x5a6921(0x1cf),JSON[_0x5a6921(0x1df)](drawings)),openModel(()=>{},{'icon':_0x5a6921(0x1bf),'h1':'تم\x20حفظ\x20رسمتك\x20بنجاح.','btns':{'btn1':_0x5a6921(0x166)}});};});};window[_0x4bb7a5(0x205)](_0x4bb7a5(0x236),()=>{const _0x1761a0=_0x4bb7a5;canvas[_0x1761a0(0x233)]=canvas[_0x1761a0(0x15e)],canvas[_0x1761a0(0x18b)]=canvas[_0x1761a0(0x21a)],setCanvasBackground();});function debounce(_0x15159e){var _0x434016;return function(_0x561488){if(_0x434016)clearTimeout(_0x434016);_0x434016=setTimeout(_0x15159e,0x64,_0x561488);};}window[_0x4bb7a5(0x205)](_0x4bb7a5(0x230),debounce(function(_0x14f604){const _0x591b7d=_0x4bb7a5;canvas[_0x591b7d(0x1b8)](function(_0x3fa9ca){const _0x198a25=_0x591b7d;ctx[_0x198a25(0x1b5)](0x0,0x0,canvas[_0x198a25(0x233)],canvas[_0x198a25(0x18b)]),reader[_0x198a25(0x1f0)](_0x3fa9ca),canvas['width']=canvas[_0x198a25(0x15e)],canvas[_0x198a25(0x18b)]=canvas[_0x198a25(0x21a)],reader[_0x198a25(0x177)]=()=>{const _0x37ca44=_0x198a25,_0x4a7e48=new Image();_0x4a7e48[_0x37ca44(0x167)]=reader[_0x37ca44(0x201)],_0x4a7e48[_0x37ca44(0x177)]=function(){readImage(_0x4a7e48);};};});}));const drawRect=_0x5dd6ad=>{const _0x4d5b8d=_0x4bb7a5;let _0x2c2618=_0x5dd6ad[_0x4d5b8d(0x162)]['getBoundingClientRect']();_0x4d5b8d(0x1d4)in window||window[_0x4d5b8d(0x216)]&&document instanceof DocumentTouch?(newMouseX=_0x5dd6ad[_0x4d5b8d(0x1e1)][0x0]?.['pageX']-_0x2c2618['left'],newMouseY=_0x5dd6ad['targetTouches'][0x0]?.['pageY']-_0x2c2618[_0x4d5b8d(0x1d1)]):(newMouseX=_0x5dd6ad[_0x4d5b8d(0x15d)],newMouseY=_0x5dd6ad[_0x4d5b8d(0x175)]);if(!fillColor[_0x4d5b8d(0x1b2)])return ctx[_0x4d5b8d(0x20d)](newMouseX,newMouseY,prevMouseX-newMouseX,prevMouseY-newMouseY);ctx[_0x4d5b8d(0x1a7)](newMouseX,newMouseY,prevMouseX-newMouseX,prevMouseY-newMouseY);},drawCircle=_0x1b3a9b=>{const _0x483950=_0x4bb7a5;let _0x1510f6=_0x1b3a9b[_0x483950(0x162)]['getBoundingClientRect']();'ontouchstart'in window||window[_0x483950(0x216)]&&document instanceof DocumentTouch?(newMouseX=_0x1b3a9b[_0x483950(0x1e1)][0x0]?.[_0x483950(0x198)]-_0x1510f6[_0x483950(0x23a)],newMouseY=_0x1b3a9b[_0x483950(0x1e1)][0x0]?.['pageY']-_0x1510f6[_0x483950(0x1d1)]):(newMouseX=_0x1b3a9b[_0x483950(0x15d)],newMouseY=_0x1b3a9b[_0x483950(0x175)]);ctx['beginPath']();let _0x176e47=Math[_0x483950(0x1f5)](Math[_0x483950(0x228)](prevMouseX-newMouseX,0x2)+Math[_0x483950(0x228)](prevMouseY-newMouseY,0x2));ctx[_0x483950(0x169)](prevMouseX,prevMouseY,_0x176e47,0x0,0x2*Math['PI']),fillColor['checked']?ctx[_0x483950(0x1ff)]():ctx[_0x483950(0x220)](),elements[_0x483950(0x199)]({'x':prevMouseX,'y':prevMouseY,'radius':_0x176e47,'start':0x0,'end':0x2*Math['PI']});},drawTriangle=_0x38d7d5=>{const _0x349361=_0x4bb7a5;let _0x52920b=_0x38d7d5[_0x349361(0x162)][_0x349361(0x1c9)]();_0x349361(0x1d4)in window||window[_0x349361(0x216)]&&document instanceof DocumentTouch?(newMouseX=_0x38d7d5[_0x349361(0x1e1)][0x0]?.[_0x349361(0x198)]-_0x52920b['left'],newMouseY=_0x38d7d5[_0x349361(0x1e1)][0x0]?.[_0x349361(0x1ec)]-_0x52920b[_0x349361(0x1d1)]):(newMouseX=_0x38d7d5['offsetX'],newMouseY=_0x38d7d5[_0x349361(0x175)]),ctx[_0x349361(0x227)](),ctx[_0x349361(0x19c)](prevMouseX,prevMouseY),ctx['lineTo'](newMouseX,newMouseY),ctx[_0x349361(0x225)](prevMouseX*0x2-newMouseX,newMouseY),ctx[_0x349361(0x1d3)](),fillColor[_0x349361(0x1b2)]?ctx[_0x349361(0x1ff)]():ctx[_0x349361(0x220)]();},drawStar=_0x212ee7=>{const _0x40fb0f=_0x4bb7a5;let _0x381534=_0x212ee7['target'][_0x40fb0f(0x1c9)](),_0x34650c=Math['PI']/0x2*0x3,_0x528093=0x5,_0x10f67f=Math['PI']/_0x528093;_0x40fb0f(0x1d4)in window||window[_0x40fb0f(0x216)]&&document instanceof DocumentTouch?(newMouseX=_0x212ee7[_0x40fb0f(0x1e1)][0x0]?.['pageX']-_0x381534[_0x40fb0f(0x23a)],newMouseY=_0x212ee7[_0x40fb0f(0x1e1)][0x0]?.[_0x40fb0f(0x1ec)]-_0x381534[_0x40fb0f(0x1d1)]):(newMouseX=_0x212ee7[_0x40fb0f(0x15d)],newMouseY=_0x212ee7[_0x40fb0f(0x175)]);const _0x389ea6=newMouseX-prevMouseX,_0x195015=newMouseY-prevMouseY,_0x44cf97=Math[_0x40fb0f(0x1f5)](_0x389ea6*_0x389ea6+_0x195015*_0x195015);ctx[_0x40fb0f(0x227)](),ctx['moveTo'](prevMouseX,prevMouseY-_0x44cf97);for(i=0x0;i<_0x528093;i++){x=prevMouseX+Math['cos'](_0x34650c)*_0x44cf97,y=prevMouseY+Math['sin'](_0x34650c)*_0x44cf97,ctx[_0x40fb0f(0x225)](x,y),_0x34650c+=_0x10f67f,x=prevMouseX+Math['cos'](_0x34650c)*_0x44cf97/0x2,y=prevMouseY+Math[_0x40fb0f(0x222)](_0x34650c)*_0x44cf97/0x2,ctx['lineTo'](x,y),_0x34650c+=_0x10f67f;}ctx[_0x40fb0f(0x225)](prevMouseX,prevMouseY-_0x44cf97),ctx[_0x40fb0f(0x1d3)](),fillColor['checked']?ctx['fill']():ctx['stroke']();},drawHexagon=_0x52eb44=>{const _0xc0f661=_0x4bb7a5;let _0x18649e=_0x52eb44[_0xc0f661(0x162)]['getBoundingClientRect']();_0xc0f661(0x1d4)in window||window[_0xc0f661(0x216)]&&document instanceof DocumentTouch?(newMouseX=_0x52eb44[_0xc0f661(0x1e1)][0x0]?.[_0xc0f661(0x198)]-_0x18649e['left'],newMouseY=_0x52eb44[_0xc0f661(0x1e1)][0x0]?.[_0xc0f661(0x1ec)]-_0x18649e['top']):(newMouseX=_0x52eb44[_0xc0f661(0x15d)],newMouseY=_0x52eb44[_0xc0f661(0x175)]);let _0x1383a9=(prevMouseX+newMouseX)/0x2,_0x45b9d1=(prevMouseY+newMouseY)/0x2,_0x125ee2=Math[_0xc0f661(0x1f5)]((newMouseX-prevMouseX)**0x2+(newMouseY-prevMouseY)**0x2)/0x2,_0x1b34d9=Math['PI']/0x6,_0x24908e=Math['PI']/0x6+_0x1b34d9;ctx[_0xc0f661(0x227)](),ctx[_0xc0f661(0x19c)](_0x1383a9+_0x125ee2*Math['cos'](_0x24908e),_0x45b9d1+_0x125ee2*Math['sin'](_0x24908e));for(let _0x168e7e=0x1;_0x168e7e<=0x6;_0x168e7e++){let _0x3870d7=_0x24908e+_0x168e7e*0x2*Math['PI']/0x6;ctx[_0xc0f661(0x225)](_0x1383a9+_0x125ee2*Math[_0xc0f661(0x1c8)](_0x3870d7),_0x45b9d1+_0x125ee2*Math[_0xc0f661(0x222)](_0x3870d7));}ctx[_0xc0f661(0x1d3)](),fillColor[_0xc0f661(0x1b2)]?ctx['fill']():ctx[_0xc0f661(0x220)]();},startDraw=_0x46e54d=>{const _0x42feae=_0x4bb7a5;isSaved=![],isDrawing=!![],sizeSlider&&(sizeSlider[_0x42feae(0x1db)][_0x42feae(0x20b)][_0x42feae(0x17e)]='0'),insidePanel[_0x42feae(0x184)]='';if(toolBtns[0x1]['classList']['contains'](_0x42feae(0x17d))&&prevTool===''&&selectedTool!=_0x42feae(0x196))toolBtns[0x1]['classList'][_0x42feae(0x1ad)](_0x42feae(0x17d)),toolBtns[0x0][_0x42feae(0x189)][_0x42feae(0x1ee)]('active');else toolBtns[0x1][_0x42feae(0x189)]['contains'](_0x42feae(0x17d))&&prevTool===_0x42feae(0x1a6)?(toolBtns[0x1][_0x42feae(0x189)][_0x42feae(0x1ad)](_0x42feae(0x17d)),toolBtns[0x2]['classList'][_0x42feae(0x1ee)](_0x42feae(0x17d))):toolBtns[0x1][_0x42feae(0x189)]['remove']('active');if(selectedTool===_0x42feae(0x1ca))toolBtns[0x0][_0x42feae(0x189)][_0x42feae(0x1ee)](_0x42feae(0x17d)),toolBtns[0x2][_0x42feae(0x189)][_0x42feae(0x1ad)](_0x42feae(0x17d));else selectedTool===_0x42feae(0x196)&&(toolBtns[0x3][_0x42feae(0x189)][_0x42feae(0x1ee)](_0x42feae(0x17d)),toolBtns[0x2][_0x42feae(0x189)][_0x42feae(0x1ad)](_0x42feae(0x17d)));pipe['style']['display']='none';let _0x3fcbe1=_0x46e54d[_0x42feae(0x162)]['getBoundingClientRect']();_0x42feae(0x1d4)in window||window['DocumentTouch']&&document instanceof DocumentTouch?(prevMouseX=_0x46e54d[_0x42feae(0x1e1)][0x0]?.[_0x42feae(0x198)]-_0x3fcbe1[_0x42feae(0x23a)],prevMouseY=_0x46e54d[_0x42feae(0x1e1)][0x0]?.[_0x42feae(0x1ec)]-_0x3fcbe1[_0x42feae(0x1d1)]):(prevMouseX=_0x46e54d[_0x42feae(0x15d)],prevMouseY=_0x46e54d[_0x42feae(0x175)]),ctx['beginPath'](),selectedTool===_0x42feae(0x196)?ctx[_0x42feae(0x1de)]=eraserWidth:ctx[_0x42feae(0x1de)]=brushWidth,ctx[_0x42feae(0x22e)]=selectedTool===_0x42feae(0x196)?_0x42feae(0x182):selectedColor,ctx[_0x42feae(0x22f)]=selectedColor,ctx['lineCap']=_0x42feae(0x190),ctx['lineJoin']=_0x42feae(0x1be),(selectedTool==_0x42feae(0x1ca)||selectedTool==_0x42feae(0x196))&&(ctx[_0x42feae(0x225)](prevMouseX-cursorSize/0x2,prevMouseY-cursorSize/0x2),ctx[_0x42feae(0x220)]()),snapshot=ctx[_0x42feae(0x1fe)](0x0,0x0,canvas[_0x42feae(0x233)],canvas[_0x42feae(0x18b)]);},drawing=_0x4fb08d=>{const _0xbb17bb=_0x4bb7a5;if(!isDrawing)return;ctx[_0xbb17bb(0x1e4)](snapshot,0x0,0x0);let _0x150432=_0x4fb08d[_0xbb17bb(0x162)][_0xbb17bb(0x1c9)]();'ontouchstart'in window||window[_0xbb17bb(0x216)]&&document instanceof DocumentTouch?(newMouseX=_0x4fb08d['targetTouches'][0x0]?.[_0xbb17bb(0x198)]-_0x150432['left'],newMouseY=_0x4fb08d[_0xbb17bb(0x1e1)][0x0]?.[_0xbb17bb(0x1ec)]-_0x150432[_0xbb17bb(0x1d1)]):(newMouseX=_0x4fb08d[_0xbb17bb(0x15d)],newMouseY=_0x4fb08d[_0xbb17bb(0x175)]);if(selectedTool===_0xbb17bb(0x1ca)||selectedTool===_0xbb17bb(0x196))ctx['strokeStyle']=selectedTool==='eraser'?'#f2f2f2':selectedColor,ctx[_0xbb17bb(0x225)](newMouseX-cursorSize/0x2,newMouseY-cursorSize/0x2),ctx['lineCap']=_0xbb17bb(0x190),ctx[_0xbb17bb(0x214)]='round',ctx[_0xbb17bb(0x220)]();else{if(selectedTool==='rectangle')drawRect(_0x4fb08d);else{if(selectedTool===_0xbb17bb(0x22a))drawCircle(_0x4fb08d);else{if(selectedTool===_0xbb17bb(0x208))drawTriangle(_0x4fb08d);else{if(selectedTool==='star')drawStar(_0x4fb08d);else selectedTool==='hexagon'&&drawHexagon(_0x4fb08d);}}}}};toolBtns['forEach']((_0x249f3b,_0x938ceb)=>{const _0x4db235=_0x4bb7a5;_0x249f3b[_0x4db235(0x205)](_0x4db235(0x1b9),()=>{const _0x2af924=_0x4db235;document['querySelector'](_0x2af924(0x180))['classList'][_0x2af924(0x1ad)](_0x2af924(0x17d)),_0x249f3b['classList'][_0x2af924(0x1ee)]('active'),insidePanel['innerHTML']='';if(_0x938ceb===0x0)selectedTool=_0x249f3b['id'],prevTool='',insidePanel[_0x2af924(0x184)]=_0x2af924(0x1a3)+brushWidth+_0x2af924(0x226)+brushWidth+_0x2af924(0x1d0),pipe[_0x2af924(0x20b)]['top']=_0x2af924(0x1ce),pipe[_0x2af924(0x20b)][_0x2af924(0x211)]='block',sizeSlider=document[_0x2af924(0x1fc)](_0x2af924(0x1f2)),sizeSlider[_0x2af924(0x205)](_0x2af924(0x1dd),()=>{const _0x435ffb=_0x2af924;sizeSlider['nextElementSibling'][_0x435ffb(0x174)]=sizeSlider[_0x435ffb(0x183)],cursorSize=parseInt(sizeSlider[_0x435ffb(0x183)]),sizeSlider[_0x435ffb(0x1db)][_0x435ffb(0x20b)][_0x435ffb(0x19f)]=sizeSlider['value']/0.601+'%',sizeSlider[_0x435ffb(0x1db)][_0x435ffb(0x20b)][_0x435ffb(0x17e)]='1',brushWidth=sizeSlider[_0x435ffb(0x183)];}),sizeSlider[_0x2af924(0x205)](_0x2af924(0x1d7),()=>{const _0x2b17b5=_0x2af924;sizeSlider['nextElementSibling']['style'][_0x2b17b5(0x17e)]='0';});else{if(_0x938ceb===0x1){insidePanel[_0x2af924(0x184)]=_0x2af924(0x21e),pipe[_0x2af924(0x20b)][_0x2af924(0x1d1)]='10.05vw',pipe[_0x2af924(0x20b)]['display']=_0x2af924(0x1fa);const _0x23058a=document[_0x2af924(0x1fc)]('#color-picker'),_0x530ad9=document['querySelectorAll'](_0x2af924(0x21b));_0x530ad9[_0x2af924(0x1a0)](_0x5ef103=>{_0x5ef103['addEventListener']('click',()=>{const _0x192957=_0x6966;let _0x31c5ae=colorsTool[_0x192957(0x167)]['split']('/');_0x31c5ae[_0x192957(0x219)](_0x31c5ae[_0x192957(0x21d)]-0x1,0x1,_0x5ef103['id']+'.png'),setTimeout(()=>{const _0x5cad5b=_0x192957;colorsTool['src']=_0x31c5ae['toString']()[_0x5cad5b(0x170)](',','/');},0x1f4),spinningEffect(colorsTool),document[_0x192957(0x1fc)](_0x192957(0x203))?.['classList'][_0x192957(0x1ad)]('selected'),_0x5ef103[_0x192957(0x189)][_0x192957(0x1ee)]('selected'),_0x5ef103['id']!=_0x192957(0x1f3)?selectedColor=window[_0x192957(0x1c4)](_0x5ef103)[_0x192957(0x232)]('color'):selectedColor=_0x23058a[_0x192957(0x183)];});}),_0x23058a['addEventListener'](_0x2af924(0x1dd),()=>{const _0x10052c=_0x2af924;_0x23058a[_0x10052c(0x161)][_0x10052c(0x20b)]['color']=_0x23058a[_0x10052c(0x183)],_0x249f3b[_0x10052c(0x20b)]['color']=selectedColor,selectedColor=_0x23058a[_0x10052c(0x183)],setCursor();}),_0x23058a[_0x2af924(0x183)]=selectedColor;}else{if(_0x938ceb===0x2){prevTool=_0x2af924(0x1a6),insidePanel['innerHTML']=_0x2af924(0x1d8),fillColor=document['querySelector'](_0x2af924(0x1ea)),fillColor['checked']=fillValue,fillColor[_0x2af924(0x205)](_0x2af924(0x1dd),()=>{const _0xf161b3=_0x2af924;fillValue=fillColor[_0xf161b3(0x1b2)];});const _0x2d43fd=document[_0x2af924(0x217)](_0x2af924(0x194));_0x2d43fd[_0x2af924(0x1a0)](_0x2587ee=>{const _0xb2e8c7=_0x2af924;_0x2587ee[_0xb2e8c7(0x205)](_0xb2e8c7(0x1b9),_0x45c279=>{const _0x226ec8=_0xb2e8c7;let _0x18b32e=shapesTool[_0x226ec8(0x167)][_0x226ec8(0x18e)]('/');_0x18b32e[_0x226ec8(0x219)](_0x18b32e[_0x226ec8(0x21d)]-0x1,0x1,_0x2587ee['id']+'.png'),setTimeout(()=>{const _0x3bb784=_0x226ec8;shapesTool['src']=_0x18b32e['toString']()[_0x3bb784(0x170)](',','/');},0x1f4),spinningEffect(shapesTool);if(_0x2587ee['id']===_0x226ec8(0x22a))selectedTool=_0x226ec8(0x22a);else{if(_0x2587ee['id']===_0x226ec8(0x1a1))selectedTool=_0x226ec8(0x1a1);else{if(_0x2587ee['id']===_0x226ec8(0x208))selectedTool=_0x226ec8(0x208);else{if(_0x2587ee['id']===_0x226ec8(0x210))selectedTool=_0x226ec8(0x210);else _0x2587ee['id']==='hexagon'&&(selectedTool=_0x226ec8(0x212));}}}});}),pipe[_0x2af924(0x20b)]['top']=_0x2af924(0x1c7),pipe[_0x2af924(0x20b)]['display']='block';}else _0x938ceb===0x3&&(selectedTool=_0x249f3b['id'],prevTool='',insidePanel[_0x2af924(0x184)]=_0x2af924(0x22c)+eraserWidth+_0x2af924(0x226)+eraserWidth+_0x2af924(0x1f8),pipe[_0x2af924(0x20b)][_0x2af924(0x1d1)]=_0x2af924(0x1bd),pipe['style'][_0x2af924(0x211)]=_0x2af924(0x1fa),sizeSlider=document[_0x2af924(0x1fc)](_0x2af924(0x221)),sizeSlider[_0x2af924(0x205)](_0x2af924(0x1dd),()=>{const _0x5608f5=_0x2af924;sizeSlider[_0x5608f5(0x1db)][_0x5608f5(0x174)]=sizeSlider[_0x5608f5(0x183)],sizeSlider[_0x5608f5(0x1db)][_0x5608f5(0x20b)][_0x5608f5(0x19f)]=sizeSlider[_0x5608f5(0x183)]/0.601+'%',sizeSlider['nextElementSibling'][_0x5608f5(0x20b)]['opacity']='1',eraserWidth=sizeSlider['value'];}),sizeSlider[_0x2af924(0x205)]('blur',()=>{const _0x203b9d=_0x2af924;sizeSlider[_0x203b9d(0x1db)][_0x203b9d(0x20b)][_0x203b9d(0x17e)]='0';}));}}}),_0x249f3b[_0x4db235(0x205)](_0x4db235(0x207),()=>{const _0x1de9f1=_0x4db235;document[_0x1de9f1(0x1fc)](_0x1de9f1(0x180))[_0x1de9f1(0x189)]['remove'](_0x1de9f1(0x17d)),_0x249f3b[_0x1de9f1(0x189)][_0x1de9f1(0x1ee)]('active'),_0x249f3b['id']!==_0x1de9f1(0x197)&&(selectedTool=_0x249f3b['id']);});}),clearCanvasBtn[_0x4bb7a5(0x205)](_0x4bb7a5(0x1b9),()=>{const _0x206612=_0x4bb7a5;openModel(clearCanvasFunc,{'icon':_0x206612(0x213),'h1':_0x206612(0x21c),'btns':{'btn1':_0x206612(0x21f),'btn2':'yes-btn'}});});const clearCanvasFunc=()=>{const _0x37bfe6=_0x4bb7a5;ctx['clearRect'](0x0,0x0,canvas[_0x37bfe6(0x233)],canvas[_0x37bfe6(0x18b)]),setCanvasBackground(),saveSnapshot();};saveImg[_0x4bb7a5(0x205)](_0x4bb7a5(0x1b9),()=>{saveDrawings();});const saveSnapshot=_0x2bc196=>{const _0x481273=_0x4bb7a5;redoStack=[],undoStack[_0x481273(0x199)](ctx[_0x481273(0x1fe)](0x0,0x0,canvas[_0x481273(0x233)],canvas[_0x481273(0x18b)])),checkDoBtnsState();},undoFunc=_0x1b319b=>{const _0xec6aca=_0x4bb7a5;isSaved=![];if(undoStack[_0xec6aca(0x21d)]>0x1){let _0x59eb43=undoStack[_0xec6aca(0x22b)]();redoStack[_0xec6aca(0x199)](_0x59eb43);const _0xc151d9=undoStack[undoStack[_0xec6aca(0x21d)]-0x1];ctx[_0xec6aca(0x1e4)](_0xc151d9,0x0,0x0);}else{if(undoStack[_0xec6aca(0x21d)]==0x1){let _0x189bea=undoStack['pop']();redoStack[_0xec6aca(0x199)](_0x189bea),ctx[_0xec6aca(0x1b5)](0x0,0x0,canvas[_0xec6aca(0x233)],canvas['height']);}}checkDoBtnsState();},redoFunc=_0x45bcfc=>{const _0x4e5768=_0x4bb7a5;isSaved=![];if(redoStack[_0x4e5768(0x21d)]>0x0){let _0xbf5860=redoStack[_0x4e5768(0x22b)]();undoStack[_0x4e5768(0x199)](_0xbf5860);const _0x21bde7=undoStack[undoStack['length']-0x1];ctx['putImageData'](_0x21bde7,0x0,0x0);}checkDoBtnsState();};undoBtn[_0x4bb7a5(0x205)](_0x4bb7a5(0x1b9),undoFunc,![]),redoBtn['addEventListener'](_0x4bb7a5(0x1b9),redoFunc,![]);const checkDoBtnsState=()=>{const _0x37d017=_0x4bb7a5;!redoStack['length']?(redoBtn[_0x37d017(0x20b)][_0x37d017(0x17e)]='.5',redoBtn['style']['cursor']=_0x37d017(0x1e2),redoBtn[_0x37d017(0x1e5)](_0x37d017(0x1f7),!![])):(redoBtn['style'][_0x37d017(0x17e)]='1',redoBtn[_0x37d017(0x20b)]['cursor']=_0x37d017(0x16f),redoBtn[_0x37d017(0x181)]('disabled')),!undoStack['length']?(undoBtn['style'][_0x37d017(0x17e)]='.5',undoBtn[_0x37d017(0x20b)]['cursor']=_0x37d017(0x1e2),undoBtn[_0x37d017(0x1e5)](_0x37d017(0x1f7),!![])):(undoBtn[_0x37d017(0x20b)][_0x37d017(0x17e)]='1',undoBtn[_0x37d017(0x20b)]['cursor']=_0x37d017(0x16f),undoBtn[_0x37d017(0x181)](_0x37d017(0x1f7)));},setCursor=()=>{const _0x1a96cd=_0x4bb7a5;let _0x4ed3b7=selectedColor,_0x5e9031=0x0;selectedTool=='eraser'?(_0x4ed3b7=_0x1a96cd(0x1aa),_0x5e9031=0x1):(_0x4ed3b7=selectedColor,_0x5e9031=0x0);if(selectedTool==_0x1a96cd(0x1ca)||selectedTool==_0x1a96cd(0x196)||prevTool==_0x1a96cd(0x1a6)){cursorSize=sizeSlider?parseInt(sizeSlider[_0x1a96cd(0x183)]):0x5;if(cursorSize<=0x4){canvas[_0x1a96cd(0x20b)][_0x1a96cd(0x17c)]=_0x1a96cd(0x15f);return;}canvas[_0x1a96cd(0x20b)]['cursor']=_0x1a96cd(0x1bb)+cursorSize+_0x1a96cd(0x1a9)+cursorSize+_0x1a96cd(0x1dc)+cursorSize*0x2+_0x1a96cd(0x17b)+_0x4ed3b7['replace']('#',_0x1a96cd(0x18c))+'\x22/></g></svg>\x27)\x20'+cursorSize*0x2+'\x20'+cursorSize*0x2+',\x20auto';}};checkDoBtnsState(),canvas['addEventListener'](_0x4bb7a5(0x1ed),startDraw),canvas['addEventListener'](_0x4bb7a5(0x186),drawing),canvas[_0x4bb7a5(0x205)](_0x4bb7a5(0x1cb),()=>{isDrawing=![],saveSnapshot();});const func=_0x2fe847=>{const _0x1fcb84=_0x4bb7a5,_0x4925b4=canvas['getBoundingClientRect']();if(_0x2fe847[_0x1fcb84(0x17a)]>_0x4925b4[_0x1fcb84(0x1bc)]||_0x2fe847[_0x1fcb84(0x17a)]<_0x4925b4[_0x1fcb84(0x23a)]||_0x2fe847['clientY']>_0x4925b4[_0x1fcb84(0x19f)]||_0x2fe847['clientY']<_0x4925b4[_0x1fcb84(0x1d1)]){isDrawing=![],saveSnapshot();return;}};canvas[_0x4bb7a5(0x205)](_0x4bb7a5(0x1a4),_0x2d349a=>{const _0xd6f8e1=_0x4bb7a5;_0x2d349a['buttons']==0x1&&window[_0xd6f8e1(0x205)](_0xd6f8e1(0x1cb),func);}),window['addEventListener'](_0x4bb7a5(0x1ed),()=>window['removeEventListener'](_0x4bb7a5(0x1cb),func)),canvas[_0x4bb7a5(0x205)](_0x4bb7a5(0x192),setCursor),canvas[_0x4bb7a5(0x205)](_0x4bb7a5(0x207),_0xab12b8=>{startDraw(_0xab12b8);}),canvas[_0x4bb7a5(0x205)](_0x4bb7a5(0x188),_0x17bd80=>{const _0x5a9c04=_0x4bb7a5;_0x17bd80[_0x5a9c04(0x191)](),drawing(_0x17bd80);}),canvas[_0x4bb7a5(0x205)](_0x4bb7a5(0x1c1),_0x418367=>{isDrawing=![],saveSnapshot();}),addImg[_0x4bb7a5(0x1d5)]=()=>{const _0x191c2d=_0x4bb7a5;fileInput[_0x191c2d(0x1b9)]();},fileInput[_0x4bb7a5(0x205)]('change',function(_0xbe2f47){const _0x44c80a=_0x4bb7a5,_0x94404a=_0xbe2f47['target']['files'][0x0];reader[_0x44c80a(0x177)]=function(_0x433a73){const _0x32b31a=_0x44c80a,_0x5ca11c=new Image();_0x5ca11c['onload']=function(){readImage(_0x5ca11c);},_0x5ca11c[_0x32b31a(0x167)]=_0x433a73['target'][_0x32b31a(0x201)];},reader[_0x44c80a(0x1f0)](_0x94404a);});const readImage=_0x5ee8ae=>{const _0x5bf894=_0x4bb7a5;let _0x2ec862=new createjs[(_0x5bf894(0x1cc))]();_0x2ec862[_0x5bf894(0x1af)][_0x5bf894(0x164)](_0x5bf894(0x182))[_0x5bf894(0x195)](0x0,0x0,stage[_0x5bf894(0x239)]['width'],stage['canvas'][_0x5bf894(0x18b)]);let _0x1d0f7d=new createjs[(_0x5bf894(0x1cc))]();_0x2ec862[_0x5bf894(0x1af)][_0x5bf894(0x164)]('transparent')['drawRect'](0x0,0x0,stage['canvas'][_0x5bf894(0x233)],stage[_0x5bf894(0x239)][_0x5bf894(0x18b)]),_0x5ee8ae['style'][_0x5bf894(0x1cd)]=_0x5bf894(0x1b3);const _0x3a38d7=new createjs[(_0x5bf894(0x20a))](_0x5ee8ae),_0x2e8cee=stage['canvas'][_0x5bf894(0x233)],_0x2e48f7=stage[_0x5bf894(0x239)][_0x5bf894(0x18b)],_0x193c00=_0x5ee8ae[_0x5bf894(0x233)],_0x5153fe=_0x5ee8ae[_0x5bf894(0x18b)],_0x1fc6eb=_0x2e8cee/_0x193c00,_0x123a24=_0x2e48f7/_0x5153fe,_0x269825=Math[_0x5bf894(0x1fb)](_0x1fc6eb,_0x123a24);_0x3a38d7['scaleX']=_0x269825,_0x3a38d7['scaleY']=_0x269825,_0x3a38d7['x']=(_0x2e8cee-_0x193c00*_0x269825)/0x2,_0x3a38d7['y']=(_0x2e48f7-_0x5153fe*_0x269825)/0x2,stage[_0x5bf894(0x1f9)]=[],stage[_0x5bf894(0x16e)](_0x2ec862),stage[_0x5bf894(0x16e)](_0x3a38d7),stage[_0x5bf894(0x16e)](_0x1d0f7d),stage[_0x5bf894(0x206)](),saveSnapshot();},gallery=document[_0x4bb7a5(0x1fc)](_0x4bb7a5(0x235));gallery[_0x4bb7a5(0x205)](_0x4bb7a5(0x1b9),_0xe00393=>{const _0x1a708b=_0x4bb7a5;canvas[_0x1a708b(0x1b8)](function(_0x238dcc){const _0x59ee95=_0x1a708b,_0x4e86d4=new File([_0x238dcc],_0x59ee95(0x16b),{'type':'image/png'});});if(drawings){const _0x17b84a=()=>{const _0x5c0cb9=_0x1a708b;undoStack=[],redoStack=[];const _0x4b15df=document['createElement'](_0x5c0cb9(0x1ef));_0x4b15df[_0x5c0cb9(0x1ba)]=_0x5c0cb9(0x1d9);const _0x51afef=JSON['parse'](localStorage['getItem'](_0x5c0cb9(0x1cf)));setCanvasBackground();let _0x4ad39b='';if(_0x51afef&&_0x51afef[_0x5c0cb9(0x21d)]===0x1)_0x4ad39b=_0x5c0cb9(0x16d)+_0x51afef[0x0][0x1]+'\x22\x20/></div></div></div>';else{if(_0x51afef&&_0x51afef[_0x5c0cb9(0x21d)]>0x1){_0x4ad39b=_0x5c0cb9(0x17f);if(_0x51afef[_0x5c0cb9(0x21d)]%0x2===0x0)for(let _0x5be6da=0x0;_0x5be6da<_0x51afef[_0x5c0cb9(0x21d)];_0x5be6da+=0x2){for(let _0x2f9003=0x0;_0x2f9003<0x2;_0x2f9003++){_0x4ad39b+=_0x5c0cb9(0x178)+_0x51afef[_0x5be6da+_0x2f9003][0x1]+'\x22\x20/></div>';}_0x5be6da+0x2<_0x51afef[_0x5c0cb9(0x21d)]&&(_0x4ad39b+=_0x5c0cb9(0x165));}else for(let _0x451fbc=0x0;_0x451fbc<_0x51afef[_0x5c0cb9(0x21d)];_0x451fbc++){_0x4ad39b+='<div\x20class=\x22outer-img\x22><button\x20class=\x22delete-my-drawing\x22\x20title=\x22حذف\x22></button><button\x20class=\x22download\x22\x20title=\x22تحميل\x22></button><img\x20src=\x22'+_0x51afef[_0x451fbc][0x1]+_0x5c0cb9(0x1a8),_0x451fbc!=_0x51afef[_0x5c0cb9(0x21d)]-0x1&&_0x451fbc%0x2===0x1&&(_0x4ad39b+=_0x5c0cb9(0x165));}_0x4ad39b+=_0x5c0cb9(0x187);}else _0x4ad39b+=_0x5c0cb9(0x1e9);}_0x4b15df[_0x5c0cb9(0x184)]=_0x4ad39b,document['body'][_0x5c0cb9(0x238)](_0x4b15df),setHomeFunc();const _0x57c6e8=document[_0x5c0cb9(0x217)](_0x5c0cb9(0x1fd)),_0x534f48=document['querySelectorAll'](_0x5c0cb9(0x1ac));_0x57c6e8[_0x5c0cb9(0x1a0)](_0x590dec=>{const _0x5c50ec=_0x5c0cb9;_0x590dec[_0x5c50ec(0x205)](_0x5c50ec(0x1b9),()=>{const _0x3bd5da=_0x5c50ec,_0x5bf471=new Image();_0x5bf471[_0x3bd5da(0x167)]=_0x590dec[_0x3bd5da(0x1db)][_0x3bd5da(0x167)],_0x5bf471['onload']=function(){const _0x1892be=_0x3bd5da;let _0x4dfcef=new createjs['Shape']();_0x4dfcef[_0x1892be(0x1af)][_0x1892be(0x164)](_0x1892be(0x182))[_0x1892be(0x195)](0x0,0x0,stage[_0x1892be(0x239)]['width'],stage[_0x1892be(0x239)][_0x1892be(0x18b)]),_0x5bf471[_0x1892be(0x20b)][_0x1892be(0x1cd)]=_0x1892be(0x1b3);const _0x58a368=new createjs[(_0x1892be(0x20a))](_0x5bf471),_0x2b34f4=stage['canvas'][_0x1892be(0x233)],_0x17c2b4=stage['canvas'][_0x1892be(0x18b)],_0x2f2d80=_0x5bf471[_0x1892be(0x233)],_0x1d86f4=_0x5bf471[_0x1892be(0x18b)],_0x219528=_0x2b34f4/_0x2f2d80,_0x279e04=_0x17c2b4/_0x1d86f4,_0x3735c3=Math[_0x1892be(0x1fb)](_0x219528,_0x279e04);_0x58a368[_0x1892be(0x19e)]=_0x3735c3,_0x58a368[_0x1892be(0x1b4)]=_0x3735c3,_0x58a368['x']=(_0x2b34f4-_0x2f2d80*_0x3735c3)/0x2,_0x58a368['y']=(_0x17c2b4-_0x1d86f4*_0x3735c3)/0x2,stage[_0x1892be(0x1f9)]=[],stage['addChild'](_0x4dfcef),stage[_0x1892be(0x16e)](_0x58a368),stage[_0x1892be(0x206)]();const _0x2c85f3=document[_0x1892be(0x1c3)]('a');_0x2c85f3['download']=Date[_0x1892be(0x1b7)]()+'.png',_0x2c85f3[_0x1892be(0x179)]=canvas[_0x1892be(0x23b)](_0x1892be(0x1c0)),_0x2c85f3[_0x1892be(0x1b9)](),setCanvasBackground();};});}),_0x534f48['forEach']((_0x4698ff,_0x3d477a)=>{const _0x1a3cfd=()=>{const _0x108132=_0x6966;_0x51afef[_0x108132(0x219)](_0x3d477a,0x1),localStorage[_0x108132(0x18a)](_0x108132(0x1cf),JSON[_0x108132(0x1df)](_0x51afef)),_0x58cbab['remove'](),_0x17b84a();};_0x4698ff['onclick']=()=>{const _0x1e23f6=_0x6966;openModel(_0x1a3cfd,{'icon':_0x1e23f6(0x213),'h1':_0x1e23f6(0x1f1),'btns':{'btn1':_0x1e23f6(0x21f),'btn2':_0x1e23f6(0x19d)}});};});const _0x21b022=document['querySelectorAll'](_0x5c0cb9(0x1b1)),_0x58cbab=document[_0x5c0cb9(0x1fc)](_0x5c0cb9(0x193));_0x21b022[_0x5c0cb9(0x1a0)]((_0x1884fc,_0x41a2c2)=>{_0x1884fc['onclick']=()=>{const _0x155ee7=_0x6966,_0x26a309=new Image();_0x26a309[_0x155ee7(0x167)]=_0x1884fc[_0x155ee7(0x167)],_0x26a309[_0x155ee7(0x177)]=function(){readImage(_0x26a309),currDrawing=_0x51afef[_0x41a2c2][0x0],isSaved=!![];},_0x58cbab['remove']();};});};if((undoStack[_0x1a708b(0x21d)]||redoStack[_0x1a708b(0x21d)])&&!isSaved)openModel(_0x17b84a,{'icon':_0x1a708b(0x213),'h1':'هل\x20ترغب\x20في\x20الخروج\x20دون\x20حفظ\x20التغييرات؟','btns':{'btn1':_0x1a708b(0x21f),'btn2':_0x1a708b(0x19d)}});else _0x17b84a();}else openModel(()=>{},{'icon':_0x1a708b(0x1ab),'h1':_0x1a708b(0x20e),'btns':{'btn1':'ok-btn'}});},![]);const spinningEffect=_0x371b26=>{const _0x8ccdf2=_0x4bb7a5,_0x1149f4=[{'transform':_0x8ccdf2(0x1a5)},{'transform':_0x8ccdf2(0x1c6)},{'transform':_0x8ccdf2(0x1a5)}],_0x3e573b={'duration':0x3e8,'iterations':0x1};_0x371b26[_0x8ccdf2(0x204)](_0x1149f4,_0x3e573b);},openModel=(_0x53c911,_0x20cc2e)=>{const _0xb8fa15=_0x4bb7a5,_0x13fd7f=document[_0xb8fa15(0x1fc)]('.popup'),_0x569dfc=document[_0xb8fa15(0x1fc)]('.popup\x20.close'),_0x4e9a74=document[_0xb8fa15(0x1fc)]('.popup\x20img'),_0x17df44=document['querySelector'](_0xb8fa15(0x1d2));_0x13fd7f[_0xb8fa15(0x20b)][_0xb8fa15(0x1cd)]=_0xb8fa15(0x18d),_0x13fd7f[_0xb8fa15(0x20b)][_0xb8fa15(0x1e3)]=_0xb8fa15(0x1da),_0x4e9a74['src']=_0x20cc2e['icon'],_0x17df44[_0xb8fa15(0x174)]=_0x20cc2e['h1'];let _0x3dc346='';Object[_0xb8fa15(0x1d6)](_0x20cc2e[_0xb8fa15(0x1e0)])[_0xb8fa15(0x1a0)](_0x52dd4d=>{const _0x4a340a=_0xb8fa15;_0x3dc346+=_0x4a340a(0x234)+_0x52dd4d+_0x4a340a(0x1e8);}),_0x569dfc['innerHTML']=_0x3dc346,document[_0xb8fa15(0x171)][_0xb8fa15(0x189)]['add'](_0xb8fa15(0x215)),_0x569dfc['addEventListener'](_0xb8fa15(0x1b9),function(){const _0x414945=_0xb8fa15;_0x569dfc[_0x414945(0x161)][_0x414945(0x20b)][_0x414945(0x1cd)]=_0x414945(0x16c),setTimeout(()=>{const _0x19ff4a=_0x414945;document[_0x19ff4a(0x171)][_0x19ff4a(0x189)]['remove'](_0x19ff4a(0x215));},0x1f4);}),_0x569dfc[_0xb8fa15(0x1f9)][0x1]?.[_0xb8fa15(0x205)](_0xb8fa15(0x1b9),_0x53c911);};