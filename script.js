const _0x2b6e82=_0x52b8;(function(_0x2011f2,_0xd51c86){const _0x4e0e69=_0x52b8,_0x3ee415=_0x2011f2();while(!![]){try{const _0x230aa5=-parseInt(_0x4e0e69(0x1df))/0x1*(-parseInt(_0x4e0e69(0x19d))/0x2)+parseInt(_0x4e0e69(0x1af))/0x3+parseInt(_0x4e0e69(0x17d))/0x4*(parseInt(_0x4e0e69(0x1e9))/0x5)+-parseInt(_0x4e0e69(0x1e5))/0x6*(parseInt(_0x4e0e69(0x190))/0x7)+-parseInt(_0x4e0e69(0x1c2))/0x8+-parseInt(_0x4e0e69(0x193))/0x9+parseInt(_0x4e0e69(0x1a5))/0xa;if(_0x230aa5===_0xd51c86)break;else _0x3ee415['push'](_0x3ee415['shift']());}catch(_0x4ed6b5){_0x3ee415['push'](_0x3ee415['shift']());}}}(_0x517f,0x5e906));const canvas=document[_0x2b6e82(0x1bd)]('canvas'),homePage=document[_0x2b6e82(0x1bd)](_0x2b6e82(0x238)),colorsTool=document[_0x2b6e82(0x17b)](_0x2b6e82(0x18b))['children'][0x0],shapesTool=document[_0x2b6e82(0x17b)]('shapes')['children'][0x0],toolBtns=document['querySelectorAll']('.tool'),clearCanvasBtn=document[_0x2b6e82(0x1bd)]('.clear-canvas'),saveImg=document[_0x2b6e82(0x1bd)]('.save-img'),addImg=document[_0x2b6e82(0x1bd)](_0x2b6e82(0x1c9)),ctx=canvas[_0x2b6e82(0x231)]('2d'),undoBtn=document[_0x2b6e82(0x1bd)]('.undo'),redoBtn=document[_0x2b6e82(0x1bd)](_0x2b6e82(0x196)),pipe=document[_0x2b6e82(0x1bd)](_0x2b6e82(0x236)),toolsBoard=document[_0x2b6e82(0x1bd)](_0x2b6e82(0x1a7)),popupBtns=document[_0x2b6e82(0x199)](_0x2b6e82(0x176)),insidePanel=document[_0x2b6e82(0x1bd)](_0x2b6e82(0x1f9));let prevMouseX,fillColor,sizeSlider,prevMouseY,prevTool='',newMouseX,newMouseY,snapshot,elements=[],undoStack=[],redoStack=[],isDrawing=![],selectedTool='brush',brushWidth=0x5,eraserWidth=0x5,fillValue=![],isSaved=![],cursorSize=0x5,selectedColor='#000';const reader=new FileReader(),stage=new createjs['Stage'](_0x2b6e82(0x216)),fileInput=document[_0x2b6e82(0x17b)](_0x2b6e82(0x213)),setHomeFunc=()=>{const _0x1e1223=_0x2b6e82,_0x1ff4f0=document[_0x1e1223(0x199)](_0x1e1223(0x1e3));_0x1ff4f0[_0x1e1223(0x1c3)](_0x17d1e0=>{const _0xddf2ab=_0x1e1223;_0x17d1e0[_0xddf2ab(0x19e)]=()=>{const _0x249d27=_0xddf2ab,_0x52529f=document[_0x249d27(0x1bd)](_0x249d27(0x238));if(_0x52529f)_0x52529f['remove']();else{setCanvasBackground(),currDrawing='';const _0x5df4a8=document[_0x249d27(0x1a9)](_0x249d27(0x1ab));_0x5df4a8['className']='home-page',_0x5df4a8[_0x249d27(0x218)]=_0x249d27(0x1e1),document[_0x249d27(0x1c8)][_0x249d27(0x1b6)](_0x5df4a8),setHomePageBtns();}};});},setHomePageBtns=()=>{const _0x49eca3=_0x2b6e82,_0x54708b=document[_0x49eca3(0x199)]('.home-page\x20.start\x20img'),_0x5b7a59=document[_0x49eca3(0x1bd)](_0x49eca3(0x238));_0x54708b[_0x49eca3(0x1c3)]((_0x206ef2,_0x25cc6e)=>{_0x206ef2['onclick']=()=>{const _0x55fec6=_0x52b8;switch(_0x25cc6e){case 0x0:_0x5b7a59[_0x55fec6(0x194)]();break;case 0x1:_0x5b7a59['children'][0x1][_0x55fec6(0x194)](),_0x5b7a59['innerHTML']='<div\x20class=\x22overlay\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22home\x20home-2\x22\x20title=\x22الرئيسية\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22lib\x22><div\x20class=\x22row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/btn-1.png\x22\x20id=\x22img-1\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/btn-2.png\x22\x20id=\x22img-2\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/btn-3.png\x22\x20id=\x22img-3\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/btn-4.png\x22\x20id=\x22img-4\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/btn-3.png\x22\x20id=\x22img-3\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/btn-4.png\x22\x20id=\x22img-4\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';const _0x3fea2a=document[_0x55fec6(0x199)]('.lib\x20.row\x20img'),_0x56d5f7=document[_0x55fec6(0x17b)](_0x55fec6(0x203));_0x3fea2a[_0x55fec6(0x1c3)](_0xa79ce8=>{const _0x16c700=_0x55fec6;_0xa79ce8['addEventListener'](_0x16c700(0x18a),()=>{const _0x3041d8=_0x16c700;let _0x30fb13=_0xa79ce8[_0x3041d8(0x1eb)]['split']('/');_0x30fb13['splice'](_0x30fb13['length']-0x1,0x1,_0xa79ce8['id']+_0x3041d8(0x1bf)),_0x30fb13=_0x30fb13[_0x3041d8(0x189)]()[_0x3041d8(0x173)](',','/');const _0x249e1d=new Image();_0x249e1d[_0x3041d8(0x1eb)]=_0x30fb13,_0x249e1d[_0x3041d8(0x1f3)]=function(){const _0xd958c9=_0x3041d8;readImage(_0x249e1d),_0x5b7a59[_0xd958c9(0x194)]();};});});break;default:break;}setHomeFunc();};});};setHomePageBtns();const setCanvasBackground=()=>{const _0x2ee45a=_0x2b6e82;ctx['fillStyle']=_0x2ee45a(0x1a1),ctx[_0x2ee45a(0x17e)](0x0,0x0,canvas[_0x2ee45a(0x172)],canvas['height']),ctx['fillStyle']=selectedColor;};let drawings=[];localStorage[_0x2b6e82(0x1a2)](_0x2b6e82(0x244))&&(drawings=JSON[_0x2b6e82(0x1dc)](localStorage[_0x2b6e82(0x1a2)](_0x2b6e82(0x244))));let currDrawing='';const saveDrawings=()=>{const _0x550e32=_0x2b6e82;if(undoStack[_0x550e32(0x1d3)]==0x0){openModel(()=>{},{'icon':_0x550e32(0x1f0),'h1':_0x550e32(0x1d0),'btns':{'btn1':'ok-btn'}});return;}isSaved=!![],drawings=JSON['parse'](localStorage[_0x550e32(0x1a2)](_0x550e32(0x244))),canvas[_0x550e32(0x21e)](function(_0x1d3040){const _0x47366c=_0x550e32;reader[_0x47366c(0x1fa)](_0x1d3040),reader['onload']=()=>{const _0x279dbf=_0x47366c;let _0x5a634b='d'+_0x1d3040[_0x279dbf(0x18c)]+'-'+performance[_0x279dbf(0x20e)]()/0x3e8,_0x1b997a=[];if(drawings[_0x279dbf(0x1d3)]){for(let _0x229a75=0x0;_0x229a75<drawings[_0x279dbf(0x1d3)];_0x229a75++){_0x1b997a[_0x279dbf(0x16f)](drawings[_0x229a75][0x0]),currDrawing&&drawings[_0x229a75][0x0]==currDrawing&&(drawings[_0x229a75][0x1]=reader[_0x279dbf(0x1f4)]);}_0x1b997a[_0x279dbf(0x1b1)](currDrawing)===-0x1&&drawings[_0x279dbf(0x16f)]([_0x5a634b,reader[_0x279dbf(0x1f4)]]),localStorage[_0x279dbf(0x170)](_0x279dbf(0x244),JSON[_0x279dbf(0x175)](drawings)),openModel(()=>{},{'icon':_0x279dbf(0x18e),'h1':'تم\x20حفظ\x20رسمتك\x20بنجاح.','btns':{'btn1':_0x279dbf(0x1c1)}});}else drawings[_0x279dbf(0x16f)]([_0x5a634b,reader[_0x279dbf(0x1f4)]]),localStorage[_0x279dbf(0x170)]('drawings',JSON[_0x279dbf(0x175)](drawings)),openModel(()=>{},{'icon':_0x279dbf(0x18e),'h1':_0x279dbf(0x208),'btns':{'btn1':'ok-btn'}});};});};window['addEventListener'](_0x2b6e82(0x1a6),()=>{const _0x3d2e50=_0x2b6e82;canvas[_0x3d2e50(0x172)]=canvas[_0x3d2e50(0x185)],canvas[_0x3d2e50(0x1ac)]=canvas[_0x3d2e50(0x1da)],setCanvasBackground();});const drawRect=_0x3ed885=>{const _0xf356ab=_0x2b6e82;let _0x5684cc=_0x3ed885['target'][_0xf356ab(0x1ff)]();'ontouchstart'in window||window[_0xf356ab(0x1ca)]&&document instanceof DocumentTouch?(newMouseX=_0x3ed885[_0xf356ab(0x22b)][0x0]?.[_0xf356ab(0x204)]-_0x5684cc[_0xf356ab(0x1b3)],newMouseY=_0x3ed885['targetTouches'][0x0]?.[_0xf356ab(0x16e)]-_0x5684cc['top']):(newMouseX=_0x3ed885[_0xf356ab(0x1ba)],newMouseY=_0x3ed885[_0xf356ab(0x16c)]);if(!fillColor[_0xf356ab(0x181)])return ctx[_0xf356ab(0x17c)](newMouseX,newMouseY,prevMouseX-newMouseX,prevMouseY-newMouseY);ctx[_0xf356ab(0x17e)](newMouseX,newMouseY,prevMouseX-newMouseX,prevMouseY-newMouseY);},drawCircle=_0x1e0f3d=>{const _0x221a05=_0x2b6e82;let _0x5c0fe2=_0x1e0f3d['target'][_0x221a05(0x1ff)]();_0x221a05(0x23d)in window||window[_0x221a05(0x1ca)]&&document instanceof DocumentTouch?(newMouseX=_0x1e0f3d[_0x221a05(0x22b)][0x0]?.[_0x221a05(0x204)]-_0x5c0fe2[_0x221a05(0x1b3)],newMouseY=_0x1e0f3d[_0x221a05(0x22b)][0x0]?.[_0x221a05(0x16e)]-_0x5c0fe2[_0x221a05(0x1d8)]):(newMouseX=_0x1e0f3d[_0x221a05(0x1ba)],newMouseY=_0x1e0f3d[_0x221a05(0x16c)]);ctx[_0x221a05(0x209)]();let _0x55c9f3=Math['sqrt'](Math['pow'](prevMouseX-newMouseX,0x2)+Math[_0x221a05(0x1d9)](prevMouseY-newMouseY,0x2));ctx['arc'](prevMouseX,prevMouseY,_0x55c9f3,0x0,0x2*Math['PI']),fillColor[_0x221a05(0x181)]?ctx['fill']():ctx[_0x221a05(0x217)](),elements[_0x221a05(0x16f)]({'x':prevMouseX,'y':prevMouseY,'radius':_0x55c9f3,'start':0x0,'end':0x2*Math['PI']});},drawTriangle=_0x48a7cb=>{const _0x4107b8=_0x2b6e82;let _0x1eeef3=_0x48a7cb[_0x4107b8(0x1e4)][_0x4107b8(0x1ff)]();_0x4107b8(0x23d)in window||window['DocumentTouch']&&document instanceof DocumentTouch?(newMouseX=_0x48a7cb[_0x4107b8(0x22b)][0x0]?.['pageX']-_0x1eeef3[_0x4107b8(0x1b3)],newMouseY=_0x48a7cb['targetTouches'][0x0]?.[_0x4107b8(0x16e)]-_0x1eeef3[_0x4107b8(0x1d8)]):(newMouseX=_0x48a7cb[_0x4107b8(0x1ba)],newMouseY=_0x48a7cb['offsetY']),ctx[_0x4107b8(0x209)](),ctx[_0x4107b8(0x1c7)](prevMouseX,prevMouseY),ctx[_0x4107b8(0x23e)](newMouseX,newMouseY),ctx['lineTo'](prevMouseX*0x2-newMouseX,newMouseY),ctx['closePath'](),fillColor[_0x4107b8(0x181)]?ctx[_0x4107b8(0x1b7)]():ctx['stroke']();},drawStar=_0x104b5f=>{const _0x143ddb=_0x2b6e82;let _0x19bb9f=_0x104b5f[_0x143ddb(0x1e4)]['getBoundingClientRect'](),_0x1fce25=Math['PI']/0x2*0x3,_0x8dd238=0x5,_0x24fcfa=Math['PI']/_0x8dd238;_0x143ddb(0x23d)in window||window['DocumentTouch']&&document instanceof DocumentTouch?(newMouseX=_0x104b5f[_0x143ddb(0x22b)][0x0]?.['pageX']-_0x19bb9f[_0x143ddb(0x1b3)],newMouseY=_0x104b5f[_0x143ddb(0x22b)][0x0]?.['pageY']-_0x19bb9f[_0x143ddb(0x1d8)]):(newMouseX=_0x104b5f[_0x143ddb(0x1ba)],newMouseY=_0x104b5f['offsetY']);const _0x50bff1=newMouseX-prevMouseX,_0x1d4585=newMouseY-prevMouseY,_0x3a5023=Math[_0x143ddb(0x235)](_0x50bff1*_0x50bff1+_0x1d4585*_0x1d4585);ctx[_0x143ddb(0x209)](),ctx['moveTo'](prevMouseX,prevMouseY-_0x3a5023);for(i=0x0;i<_0x8dd238;i++){x=prevMouseX+Math[_0x143ddb(0x22e)](_0x1fce25)*_0x3a5023,y=prevMouseY+Math[_0x143ddb(0x1bb)](_0x1fce25)*_0x3a5023,ctx[_0x143ddb(0x23e)](x,y),_0x1fce25+=_0x24fcfa,x=prevMouseX+Math[_0x143ddb(0x22e)](_0x1fce25)*_0x3a5023/0x2,y=prevMouseY+Math[_0x143ddb(0x1bb)](_0x1fce25)*_0x3a5023/0x2,ctx[_0x143ddb(0x23e)](x,y),_0x1fce25+=_0x24fcfa;}ctx[_0x143ddb(0x23e)](prevMouseX,prevMouseY-_0x3a5023),ctx[_0x143ddb(0x220)](),fillColor[_0x143ddb(0x181)]?ctx[_0x143ddb(0x1b7)]():ctx[_0x143ddb(0x217)]();},drawHexagon=_0x449ff6=>{const _0x43cb98=_0x2b6e82;let _0x95b0df=_0x449ff6[_0x43cb98(0x1e4)][_0x43cb98(0x1ff)]();_0x43cb98(0x23d)in window||window[_0x43cb98(0x1ca)]&&document instanceof DocumentTouch?(newMouseX=_0x449ff6[_0x43cb98(0x22b)][0x0]?.[_0x43cb98(0x204)]-_0x95b0df[_0x43cb98(0x1b3)],newMouseY=_0x449ff6[_0x43cb98(0x22b)][0x0]?.[_0x43cb98(0x16e)]-_0x95b0df[_0x43cb98(0x1d8)]):(newMouseX=_0x449ff6[_0x43cb98(0x1ba)],newMouseY=_0x449ff6['offsetY']);let _0x895d89=(prevMouseX+newMouseX)/0x2,_0x409b1d=(prevMouseY+newMouseY)/0x2,_0x53d33b=Math['sqrt']((newMouseX-prevMouseX)**0x2+(newMouseY-prevMouseY)**0x2)/0x2,_0x1752cd=Math['PI']/0x6,_0x27a482=Math['PI']/0x6+_0x1752cd;ctx[_0x43cb98(0x209)](),ctx[_0x43cb98(0x1c7)](_0x895d89+_0x53d33b*Math[_0x43cb98(0x22e)](_0x27a482),_0x409b1d+_0x53d33b*Math['sin'](_0x27a482));for(let _0x49afb6=0x1;_0x49afb6<=0x6;_0x49afb6++){let _0x4f8f91=_0x27a482+_0x49afb6*0x2*Math['PI']/0x6;ctx[_0x43cb98(0x23e)](_0x895d89+_0x53d33b*Math['cos'](_0x4f8f91),_0x409b1d+_0x53d33b*Math[_0x43cb98(0x1bb)](_0x4f8f91));}ctx[_0x43cb98(0x220)](),fillColor['checked']?ctx[_0x43cb98(0x1b7)]():ctx[_0x43cb98(0x217)]();},startDraw=_0x57cd80=>{const _0x58ffc9=_0x2b6e82;isSaved=![],isDrawing=!![],sizeSlider&&(sizeSlider['nextElementSibling'][_0x58ffc9(0x179)][_0x58ffc9(0x198)]='0'),insidePanel[_0x58ffc9(0x218)]='';if(toolBtns[0x1]['classList'][_0x58ffc9(0x214)]('active')&&prevTool==='')toolBtns[0x1][_0x58ffc9(0x233)]['remove'](_0x58ffc9(0x1e7)),toolBtns[0x0][_0x58ffc9(0x233)][_0x58ffc9(0x183)](_0x58ffc9(0x1e7));else toolBtns[0x1][_0x58ffc9(0x233)][_0x58ffc9(0x214)]('active')&&prevTool===_0x58ffc9(0x1e8)&&(toolBtns[0x1][_0x58ffc9(0x233)][_0x58ffc9(0x194)](_0x58ffc9(0x1e7)),toolBtns[0x2][_0x58ffc9(0x233)][_0x58ffc9(0x183)]('active'));if(selectedTool===_0x58ffc9(0x200))toolBtns[0x0][_0x58ffc9(0x233)][_0x58ffc9(0x183)](_0x58ffc9(0x1e7)),toolBtns[0x2]['classList']['remove'](_0x58ffc9(0x1e7));else selectedTool===_0x58ffc9(0x239)&&(toolBtns[0x3][_0x58ffc9(0x233)][_0x58ffc9(0x183)]('active'),toolBtns[0x2][_0x58ffc9(0x233)]['remove']('active'));pipe[_0x58ffc9(0x179)][_0x58ffc9(0x174)]=_0x58ffc9(0x1c4);let _0x246297=_0x57cd80['target'][_0x58ffc9(0x1ff)]();_0x58ffc9(0x23d)in window||window[_0x58ffc9(0x1ca)]&&document instanceof DocumentTouch?(prevMouseX=_0x57cd80[_0x58ffc9(0x22b)][0x0]?.[_0x58ffc9(0x204)]-_0x246297[_0x58ffc9(0x1b3)],prevMouseY=_0x57cd80[_0x58ffc9(0x22b)][0x0]?.[_0x58ffc9(0x16e)]-_0x246297['top']):(prevMouseX=_0x57cd80['offsetX'],prevMouseY=_0x57cd80[_0x58ffc9(0x16c)]),ctx['beginPath'](),selectedTool===_0x58ffc9(0x239)?ctx['lineWidth']=eraserWidth:ctx[_0x58ffc9(0x1f6)]=brushWidth,ctx[_0x58ffc9(0x197)]=selectedColor,ctx[_0x58ffc9(0x1f2)]=selectedColor,ctx[_0x58ffc9(0x23e)](prevMouseX-cursorSize/0x2,prevMouseY-cursorSize/0x2),ctx[_0x58ffc9(0x217)](),snapshot=ctx[_0x58ffc9(0x17f)](0x0,0x0,canvas['width'],canvas[_0x58ffc9(0x1ac)]);},drawing=_0x500e86=>{const _0x5be088=_0x2b6e82;if(!isDrawing)return;ctx[_0x5be088(0x1b0)](snapshot,0x0,0x0);let _0x482d7d=_0x500e86[_0x5be088(0x1e4)][_0x5be088(0x1ff)]();_0x5be088(0x23d)in window||window[_0x5be088(0x1ca)]&&document instanceof DocumentTouch?(newMouseX=_0x500e86['targetTouches'][0x0]?.['pageX']-_0x482d7d[_0x5be088(0x1b3)],newMouseY=_0x500e86['targetTouches'][0x0]?.[_0x5be088(0x16e)]-_0x482d7d[_0x5be088(0x1d8)]):(newMouseX=_0x500e86[_0x5be088(0x1ba)],newMouseY=_0x500e86[_0x5be088(0x16c)]);if(selectedTool==='brush'||selectedTool===_0x5be088(0x239))ctx[_0x5be088(0x197)]=selectedTool===_0x5be088(0x239)?_0x5be088(0x1a1):selectedColor,ctx[_0x5be088(0x23e)](newMouseX-cursorSize/0x2,newMouseY-cursorSize/0x2),ctx['lineCap']=_0x5be088(0x206),ctx[_0x5be088(0x1ef)]=_0x5be088(0x201),ctx[_0x5be088(0x217)]();else{if(selectedTool==='rectangle')drawRect(_0x500e86);else{if(selectedTool===_0x5be088(0x230))drawCircle(_0x500e86);else{if(selectedTool===_0x5be088(0x1ad))drawTriangle(_0x500e86);else{if(selectedTool===_0x5be088(0x22f))drawStar(_0x500e86);else selectedTool===_0x5be088(0x20a)&&drawHexagon(_0x500e86);}}}}};toolBtns['forEach']((_0x23860e,_0x57287f)=>{const _0x35b0bc=_0x2b6e82;_0x23860e[_0x35b0bc(0x20d)](_0x35b0bc(0x18a),()=>{const _0x4fbf93=_0x35b0bc;document[_0x4fbf93(0x1bd)](_0x4fbf93(0x1f8))[_0x4fbf93(0x233)][_0x4fbf93(0x194)]('active'),_0x23860e[_0x4fbf93(0x233)][_0x4fbf93(0x183)](_0x4fbf93(0x1e7)),insidePanel['innerHTML']='';if(_0x57287f===0x0)selectedTool=_0x23860e['id'],prevTool='',insidePanel[_0x4fbf93(0x218)]=_0x4fbf93(0x1ed)+brushWidth+_0x4fbf93(0x223)+brushWidth+_0x4fbf93(0x1cf),pipe[_0x4fbf93(0x179)][_0x4fbf93(0x1d8)]=_0x4fbf93(0x19f),pipe['style'][_0x4fbf93(0x174)]='block',sizeSlider=document[_0x4fbf93(0x1bd)](_0x4fbf93(0x1a0)),sizeSlider[_0x4fbf93(0x20d)](_0x4fbf93(0x229),()=>{const _0x3e13f9=_0x4fbf93;sizeSlider[_0x3e13f9(0x1e6)]['innerText']=sizeSlider[_0x3e13f9(0x221)],cursorSize=parseInt(sizeSlider['value']),sizeSlider['nextElementSibling'][_0x3e13f9(0x179)][_0x3e13f9(0x23c)]=sizeSlider[_0x3e13f9(0x221)]/0.601+'%',sizeSlider[_0x3e13f9(0x1e6)][_0x3e13f9(0x179)]['opacity']='1',brushWidth=sizeSlider[_0x3e13f9(0x221)];}),sizeSlider[_0x4fbf93(0x20d)](_0x4fbf93(0x227),()=>{const _0x179da9=_0x4fbf93;sizeSlider[_0x179da9(0x1e6)][_0x179da9(0x179)][_0x179da9(0x198)]='0';});else{if(_0x57287f===0x1){insidePanel['innerHTML']=_0x4fbf93(0x207),pipe[_0x4fbf93(0x179)][_0x4fbf93(0x1d8)]=_0x4fbf93(0x1a4),pipe[_0x4fbf93(0x179)][_0x4fbf93(0x174)]=_0x4fbf93(0x177);const _0x5cb119=document[_0x4fbf93(0x1bd)](_0x4fbf93(0x1e0)),_0x19fc7c=document[_0x4fbf93(0x199)]('.colors\x20.option');_0x19fc7c[_0x4fbf93(0x1c3)](_0x4530b8=>{const _0x491ae0=_0x4fbf93;_0x4530b8['addEventListener'](_0x491ae0(0x18a),()=>{const _0x25a67f=_0x491ae0;let _0xd1f9a3=colorsTool[_0x25a67f(0x1eb)][_0x25a67f(0x20b)]('/');_0xd1f9a3[_0x25a67f(0x1d2)](_0xd1f9a3[_0x25a67f(0x1d3)]-0x1,0x1,_0x4530b8['id']+_0x25a67f(0x1bf)),setTimeout(()=>{const _0x264025=_0x25a67f;colorsTool['src']=_0xd1f9a3['toString']()[_0x264025(0x173)](',','/');},0x1f4),spinningEffect(colorsTool),document[_0x25a67f(0x1bd)](_0x25a67f(0x22a))?.[_0x25a67f(0x233)][_0x25a67f(0x194)](_0x25a67f(0x1b9)),_0x4530b8[_0x25a67f(0x233)][_0x25a67f(0x183)](_0x25a67f(0x1b9)),_0x4530b8['id']!=_0x25a67f(0x1a8)?selectedColor=window['getComputedStyle'](_0x4530b8)[_0x25a67f(0x1b8)](_0x25a67f(0x205)):selectedColor=_0x5cb119[_0x25a67f(0x221)];});}),_0x5cb119[_0x4fbf93(0x20d)](_0x4fbf93(0x180),()=>{const _0x39e5b8=_0x4fbf93;_0x5cb119['parentElement']['style']['color']=_0x5cb119[_0x39e5b8(0x221)],_0x23860e[_0x39e5b8(0x179)][_0x39e5b8(0x205)]=selectedColor,selectedColor=_0x5cb119[_0x39e5b8(0x221)];}),_0x5cb119['value']=selectedColor;}else{if(_0x57287f===0x2){prevTool='shapes',insidePanel[_0x4fbf93(0x218)]=_0x4fbf93(0x1b2),fillColor=document['querySelector'](_0x4fbf93(0x1cd)),fillColor[_0x4fbf93(0x181)]=fillValue,fillColor[_0x4fbf93(0x20d)](_0x4fbf93(0x229),()=>{const _0x5da2bd=_0x4fbf93;fillValue=fillColor[_0x5da2bd(0x181)];});const _0x50a352=document[_0x4fbf93(0x199)](_0x4fbf93(0x22d));_0x50a352[_0x4fbf93(0x1c3)](_0x44fe5e=>{const _0x205ab4=_0x4fbf93;_0x44fe5e[_0x205ab4(0x20d)]('click',_0x32bdb3=>{const _0x4d244e=_0x205ab4;let _0x54862b=shapesTool[_0x4d244e(0x1eb)][_0x4d244e(0x20b)]('/');_0x54862b[_0x4d244e(0x1d2)](_0x54862b[_0x4d244e(0x1d3)]-0x1,0x1,_0x44fe5e['id']+_0x4d244e(0x1bf)),setTimeout(()=>{const _0x1a597d=_0x4d244e;shapesTool[_0x1a597d(0x1eb)]=_0x54862b[_0x1a597d(0x189)]()[_0x1a597d(0x173)](',','/');},0x1f4),spinningEffect(shapesTool);if(_0x44fe5e['id']==='circle')selectedTool='circle';else{if(_0x44fe5e['id']===_0x4d244e(0x1aa))selectedTool=_0x4d244e(0x1aa);else{if(_0x44fe5e['id']==='triangle')selectedTool=_0x4d244e(0x1ad);else{if(_0x44fe5e['id']==='star')selectedTool='star';else _0x44fe5e['id']===_0x4d244e(0x20a)&&(selectedTool=_0x4d244e(0x20a));}}}});}),pipe[_0x4fbf93(0x179)][_0x4fbf93(0x1d8)]=_0x4fbf93(0x1d6),pipe[_0x4fbf93(0x179)][_0x4fbf93(0x174)]=_0x4fbf93(0x177);}else _0x57287f===0x3&&(selectedTool=_0x23860e['id'],prevTool='',insidePanel[_0x4fbf93(0x218)]=_0x4fbf93(0x188)+eraserWidth+_0x4fbf93(0x223)+eraserWidth+_0x4fbf93(0x191),pipe[_0x4fbf93(0x179)][_0x4fbf93(0x1d8)]=_0x4fbf93(0x225),pipe[_0x4fbf93(0x179)]['display']='block',sizeSlider=document['querySelector'](_0x4fbf93(0x20c)),sizeSlider[_0x4fbf93(0x20d)](_0x4fbf93(0x229),()=>{const _0x5c4b41=_0x4fbf93;sizeSlider[_0x5c4b41(0x1e6)]['innerText']=sizeSlider['value'],sizeSlider['nextElementSibling']['style'][_0x5c4b41(0x23c)]=sizeSlider['value']/0.601+'%',sizeSlider[_0x5c4b41(0x1e6)][_0x5c4b41(0x179)][_0x5c4b41(0x198)]='1',eraserWidth=sizeSlider[_0x5c4b41(0x221)];}),sizeSlider[_0x4fbf93(0x20d)]('blur',()=>{const _0x2edd6d=_0x4fbf93;sizeSlider[_0x2edd6d(0x1e6)][_0x2edd6d(0x179)]['opacity']='0';}));}}}),_0x23860e['addEventListener'](_0x35b0bc(0x215),()=>{const _0xb4c1d0=_0x35b0bc;document[_0xb4c1d0(0x1bd)]('.options\x20.active')[_0xb4c1d0(0x233)][_0xb4c1d0(0x194)](_0xb4c1d0(0x1e7)),_0x23860e[_0xb4c1d0(0x233)][_0xb4c1d0(0x183)]('active'),_0x23860e['id']!==_0xb4c1d0(0x18b)&&(selectedTool=_0x23860e['id']);});}),clearCanvasBtn[_0x2b6e82(0x20d)](_0x2b6e82(0x18a),()=>{const _0x2460e6=_0x2b6e82;openModel(clearCanvasFunc,{'icon':_0x2460e6(0x1fe),'h1':_0x2460e6(0x1ec),'btns':{'btn1':_0x2460e6(0x242),'btn2':_0x2460e6(0x1ce)}});});function _0x517f(){const _0x2eeab1=['none',',\x20auto','.gallery','moveTo','body','#add-img','DocumentTouch','values','<button\x20class=\x22','#fill-color','yes-btn','</div>\x0a\x20\x20\x20\x20</li></ul>','لا\x20توجد\x20رسوم\x20للحفظ.','min','splice','length','image/png','cursor','17.14vw','\x22\x20/></div>','top','pow','offsetHeight','removeAttribute','parse','parentElement','\x22></button>','55wVHKDc','#color-picker','<div\x20class=\x22overlay\x22></div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/new.png\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/library/lib.png\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20</div>','zIndex','.home','target','2411394TgTNVg','nextElementSibling','active','shapes','985ljdzck','beginFill','src','هل\x20ترغب\x20في\x20حذف\x20جميع\x20الرسومات\x20الخاصة\x20بك؟','<ul\x20class=\x22options\x22><li\x20class=\x22option\x20slider\x22>\x0a\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20id=\x22brush-size\x22\x20min=\x221\x22\x20max=\x2250\x22\x20value=\x22','buttons','lineJoin','./assets/i-icon.png','.popup\x20h1','fillStyle','onload','result','scaleY','lineWidth','transform','.options\x20.active','.inside-panel','readAsDataURL','.popup\x20.close','animate','mouseleave','./assets/q-icon.png','getBoundingClientRect','brush','round','download','lib-img','pageX','color','square','<ul\x20class=\x22options\x20colors\x22>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27g\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27p\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27b\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27o\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27r\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27y\x27></li>\x0a\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20color\x22\x20id=\x27multi-colors\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22color\x22\x20id=\x22color-picker\x22\x20value=\x22#4A98F7\x22\x20style=\x22width:\x20inherit;height:\x20100%;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20</ul>','تم\x20حفظ\x20رسمتك\x20بنجاح.','beginPath','hexagon','split','#eraser-size','addEventListener','now','crosshair','\x22\x20height=\x22','replace','graphics','fileInput','contains','touchstart','canvas','stroke','innerHTML','setAttribute','initial','preventDefault','children','mousemove','toBlob','btns','closePath','value','innerText','\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22slider-value\x22>','rotate(0)\x20scale(1)','24vw','addChild','blur','<div\x20class=\x22outer-img\x22><button\x20class=\x22delete-my-drawing\x22\x20title=\x22حذف\x22></button><button\x20class=\x22download\x22\x20title=\x22تحميل\x22></button><img\x20src=\x22','input','.options\x20.selected','targetTouches','هل\x20ترغب\x20في\x20الخروج\x20دون\x20حفظ\x20التغييرات؟','.shapes\x20.shape','cos','star','circle','getContext','</div></div>','classList','<div\x20class=\x22overlay\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22home\x20home-2\x22\x20title=\x22الرئيسية\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div><div\x20class=\x22lib\x20lib2\x22><div\x20class=\x22row\x22><div\x20class=\x22outer-img\x22><button\x20class=\x22delete-my-drawing\x22\x20title=\x22حذف\x22></button><button\x20class=\x22download\x22\x20title=\x22تحميل\x22></button><img\x20src=\x22','sqrt','.pipe','popup-overlay','.home-page','eraser','Shape','#FFFFFF','bottom','ontouchstart','lineTo','.popup','mouseup','\x22\x20/></div></div></div>','no-btn','translate(-50%,\x20-500%)','drawings','offsetY','clearRect','pageY','push','setItem','scaleX','width','replaceAll','display','stringify','.popup-btn','block','.delete-my-drawing','style','rotate(360deg)\x20scale(0)','getElementById','strokeRect','5948EIfChl','fillRect','getImageData','change','checked','converted_image.png','add','rotate(90deg)','offsetWidth','Bitmap','لا\x20يوجد\x20لديك\x20رسومات\x20محفوظة.','<ul\x20class=\x22options\x22><li\x20class=\x22option\x20slider\x22>\x0a\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20id=\x22eraser-size\x22\x20min=\x221\x22\x20max=\x2250\x22\x20value=\x22','toString','click','colors','size','disabled','./assets/tr-icon.png','</div><div\x20class=\x22row\x22>','7DzgOkk','</div>\x0a\x20\x20\x20\x20\x20\x20</li></ul>','mouseover','6491952BXhWYW','remove','\x22><g\x20id=\x22Layer_1-2\x22\x20data-name=\x22Layer\x201\x22><circle\x20class=\x22cls-1\x22\x20cx=\x2216\x22\x20cy=\x2216\x22\x20r=\x22','.redo','strokeStyle','opacity','querySelectorAll','touchmove','pop','update','10142LYtGGP','onclick','2.95vw','#brush-size','#FFF9F5','getItem','home-page','10.05vw','7031650Naghby','load','.tools-board','multi-colors','createElement','rectangle','div','height','triangle','drawRect','1160625YNLOTU','putImageData','indexOf','<ul\x20class=\x22options\x20shapes\x22>\x0a\x20<li\x20class=\x22option\x20tool\x20shape\x22\x20id=\x22triangle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/triangle.png\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20tool\x20shape\x22\x20id=\x22star\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/star.png\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20tool\x20shape\x22\x20id=\x22hexagon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/hexagon.png\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20tool\x20shape\x22\x20id=\x22rectangle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/rectangle.png\x22\x20alt=\x22\x22\x20style=\x22width:\x204.4vw;height:\x204.4vw;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22option\x20tool\x20shape\x22\x20id=\x22circle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/circle.png\x22\x20alt=\x22\x22\x20style=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22\x20option\x20tool\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22fill-color\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22fill-color\x22>ملء\x20الشكل</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</li></ul>','left','pointer','mousedown','append','fill','getPropertyValue','selected','offsetX','sin','هل\x20ترغب\x20في\x20حذف\x20هذه\x20الرسمة؟','querySelector','icon','.png','files','ok-btn','1210584HrHibO','forEach'];_0x517f=function(){return _0x2eeab1;};return _0x517f();}const clearCanvasFunc=()=>{const _0x211f7a=_0x2b6e82;ctx[_0x211f7a(0x16d)](0x0,0x0,canvas[_0x211f7a(0x172)],canvas['height']),setCanvasBackground(),saveSnapshot();};saveImg[_0x2b6e82(0x20d)](_0x2b6e82(0x18a),()=>{saveDrawings();});const saveSnapshot=_0x44a8db=>{const _0x53189c=_0x2b6e82;redoStack=[],undoStack[_0x53189c(0x16f)](ctx['getImageData'](0x0,0x0,canvas[_0x53189c(0x172)],canvas[_0x53189c(0x1ac)])),checkDoBtnsState();},undoFunc=_0x27c312=>{const _0x10215d=_0x2b6e82;isSaved=![];if(undoStack['length']>0x1){let _0xfd5745=undoStack['pop']();redoStack[_0x10215d(0x16f)](_0xfd5745);const _0x115266=undoStack[undoStack[_0x10215d(0x1d3)]-0x1];ctx[_0x10215d(0x1b0)](_0x115266,0x0,0x0);}else{if(undoStack[_0x10215d(0x1d3)]==0x1){let _0x181aa4=undoStack[_0x10215d(0x19b)]();redoStack[_0x10215d(0x16f)](_0x181aa4),ctx['clearRect'](0x0,0x0,canvas['width'],canvas[_0x10215d(0x1ac)]);}}checkDoBtnsState();},redoFunc=_0x1f0693=>{const _0x15a267=_0x2b6e82;isSaved=![];if(redoStack[_0x15a267(0x1d3)]>0x0){let _0x51f5c9=redoStack[_0x15a267(0x19b)]();undoStack['push'](_0x51f5c9);const _0xdcb04f=undoStack[undoStack['length']-0x1];ctx[_0x15a267(0x1b0)](_0xdcb04f,0x0,0x0);}checkDoBtnsState();};undoBtn[_0x2b6e82(0x20d)](_0x2b6e82(0x18a),undoFunc,![]),redoBtn[_0x2b6e82(0x20d)](_0x2b6e82(0x18a),redoFunc,![]);const checkDoBtnsState=()=>{const _0x3ea59a=_0x2b6e82;!redoStack['length']?(redoBtn[_0x3ea59a(0x179)]['opacity']='.5',redoBtn[_0x3ea59a(0x179)][_0x3ea59a(0x1d5)]=_0x3ea59a(0x21a),redoBtn[_0x3ea59a(0x219)](_0x3ea59a(0x18d),!![])):(redoBtn['style'][_0x3ea59a(0x198)]='1',redoBtn[_0x3ea59a(0x179)][_0x3ea59a(0x1d5)]=_0x3ea59a(0x1b4),redoBtn[_0x3ea59a(0x1db)]('disabled')),!undoStack[_0x3ea59a(0x1d3)]?(undoBtn['style']['opacity']='.5',undoBtn[_0x3ea59a(0x179)][_0x3ea59a(0x1d5)]=_0x3ea59a(0x21a),undoBtn[_0x3ea59a(0x219)](_0x3ea59a(0x18d),!![])):(undoBtn[_0x3ea59a(0x179)][_0x3ea59a(0x198)]='1',undoBtn[_0x3ea59a(0x179)][_0x3ea59a(0x1d5)]='pointer',undoBtn[_0x3ea59a(0x1db)](_0x3ea59a(0x18d)));};checkDoBtnsState(),canvas['addEventListener'](_0x2b6e82(0x1b5),startDraw),canvas[_0x2b6e82(0x20d)](_0x2b6e82(0x21d),drawing),canvas['addEventListener'](_0x2b6e82(0x240),()=>{isDrawing=![],saveSnapshot();}),canvas[_0x2b6e82(0x20d)](_0x2b6e82(0x1fd),_0x374433=>{const _0x4bbecd=_0x2b6e82;isDrawing=![],_0x374433[_0x4bbecd(0x1ee)]&&saveSnapshot();}),canvas[_0x2b6e82(0x20d)](_0x2b6e82(0x192),()=>{const _0x5b5a3b=_0x2b6e82;if(selectedTool=='brush'||selectedTool=='eraser'){cursorSize=sizeSlider?parseInt(sizeSlider[_0x5b5a3b(0x221)]):0x5,console['log'](cursorSize);if(cursorSize<=0x4){canvas[_0x5b5a3b(0x179)][_0x5b5a3b(0x1d5)]=_0x5b5a3b(0x20f);return;}canvas[_0x5b5a3b(0x179)]['cursor']='url(\x27data:image/svg+xml;utf8,<svg\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20viewBox=\x220\x200\x2032\x2032\x22\x20width=\x22'+cursorSize+_0x5b5a3b(0x210)+cursorSize+_0x5b5a3b(0x195)+cursorSize*0x2+'\x22\x20fill=\x22'+selectedColor[_0x5b5a3b(0x211)]('#','')+'\x22/></g></svg>\x27)\x20'+cursorSize*0x2+'\x20'+cursorSize*0x2+_0x5b5a3b(0x1c5);}}),canvas[_0x2b6e82(0x20d)](_0x2b6e82(0x215),_0x1e2ad5=>{startDraw(_0x1e2ad5);}),canvas[_0x2b6e82(0x20d)](_0x2b6e82(0x19a),_0xe10ebe=>{const _0x273267=_0x2b6e82;_0xe10ebe[_0x273267(0x21b)](),drawing(_0xe10ebe);}),canvas[_0x2b6e82(0x20d)]('touchend',_0x31297e=>{isDrawing=![],saveSnapshot();}),addImg[_0x2b6e82(0x19e)]=()=>{const _0x41e6ed=_0x2b6e82;fileInput[_0x41e6ed(0x18a)]();},fileInput[_0x2b6e82(0x20d)]('change',function(_0x50888c){const _0x1add69=_0x2b6e82,_0x5005da=_0x50888c[_0x1add69(0x1e4)][_0x1add69(0x1c0)][0x0];reader[_0x1add69(0x1f3)]=function(_0x2c5aac){const _0x5199cb=_0x1add69,_0x44f581=new Image();_0x44f581[_0x5199cb(0x1f3)]=function(){readImage(_0x44f581);},_0x44f581['src']=_0x2c5aac[_0x5199cb(0x1e4)]['result'];},reader[_0x1add69(0x1fa)](_0x5005da);});const readImage=_0x37df02=>{const _0x5d52fa=_0x2b6e82;let _0x4cded4=new createjs[(_0x5d52fa(0x23a))]();_0x4cded4[_0x5d52fa(0x212)][_0x5d52fa(0x1ea)](_0x5d52fa(0x23b))[_0x5d52fa(0x1ae)](0x0,0x0,stage[_0x5d52fa(0x216)]['width'],stage['canvas']['height']),_0x37df02[_0x5d52fa(0x179)][_0x5d52fa(0x1f7)]=_0x5d52fa(0x184);const _0x5e8733=new createjs[(_0x5d52fa(0x186))](_0x37df02),_0x168d5c=stage['canvas'][_0x5d52fa(0x172)],_0x231bf1=stage[_0x5d52fa(0x216)][_0x5d52fa(0x1ac)],_0x291634=_0x37df02[_0x5d52fa(0x172)],_0x11c993=_0x37df02[_0x5d52fa(0x1ac)],_0x1aae60=_0x168d5c/_0x291634,_0x5d5b35=_0x231bf1/_0x11c993,_0x2f7565=Math[_0x5d52fa(0x1d1)](_0x1aae60,_0x5d5b35);_0x5e8733['scaleX']=_0x2f7565,_0x5e8733[_0x5d52fa(0x1f5)]=_0x2f7565,_0x5e8733['x']=(_0x168d5c-_0x291634*_0x2f7565)/0x2,_0x5e8733['y']=(_0x231bf1-_0x11c993*_0x2f7565)/0x2,stage[_0x5d52fa(0x21c)]=[],stage[_0x5d52fa(0x226)](_0x4cded4),stage[_0x5d52fa(0x226)](_0x5e8733),stage['update'](),saveSnapshot();},gallery=document['querySelector'](_0x2b6e82(0x1c6));function _0x52b8(_0x1ed3a7,_0x1993a9){const _0x517fd2=_0x517f();return _0x52b8=function(_0x52b80c,_0x1f3023){_0x52b80c=_0x52b80c-0x16c;let _0x50f1b1=_0x517fd2[_0x52b80c];return _0x50f1b1;},_0x52b8(_0x1ed3a7,_0x1993a9);}gallery[_0x2b6e82(0x20d)](_0x2b6e82(0x18a),_0x4a4098=>{const _0x479a40=_0x2b6e82;canvas[_0x479a40(0x21e)](function(_0x19d570){const _0x1f1163=_0x479a40,_0x7f313f=new File([_0x19d570],_0x1f1163(0x182),{'type':_0x1f1163(0x1d4)});});if(drawings){const _0x1105b6=()=>{const _0x3f0539=_0x479a40;undoStack=[],redoStack=[];const _0x448d2a=document[_0x3f0539(0x1a9)](_0x3f0539(0x1ab));_0x448d2a['className']=_0x3f0539(0x1a3);const _0x20612b=JSON[_0x3f0539(0x1dc)](localStorage[_0x3f0539(0x1a2)]('drawings'));setCanvasBackground();let _0x36ea02='';if(_0x20612b[_0x3f0539(0x1d3)]===0x1)_0x36ea02=_0x3f0539(0x234)+_0x20612b[0x0][0x1]+_0x3f0539(0x241);else{_0x36ea02='<div\x20class=\x22overlay\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22home\x20home-2\x22\x20title=\x22الرئيسية\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div><div\x20class=\x22lib\x20lib2\x22><div\x20class=\x22row\x22>';if(_0x20612b[_0x3f0539(0x1d3)]%0x2===0x0)for(let _0x107a71=0x0;_0x107a71<_0x20612b['length'];_0x107a71+=0x2){for(let _0x30671c=0x0;_0x30671c<0x2;_0x30671c++){_0x36ea02+='<div\x20class=\x22outer-img\x22><button\x20class=\x22delete-my-drawing\x22\x20title=\x22حذف\x22></button><button\x20class=\x22download\x22\x20title=\x22تحميل\x22></button><img\x20src=\x22'+_0x20612b[_0x107a71+_0x30671c][0x1]+_0x3f0539(0x1d7);}_0x107a71+0x2<_0x20612b[_0x3f0539(0x1d3)]&&(_0x36ea02+=_0x3f0539(0x18f));}else for(let _0x607858=0x0;_0x607858<_0x20612b['length'];_0x607858++){_0x36ea02+=_0x3f0539(0x228)+_0x20612b[_0x607858][0x1]+_0x3f0539(0x1d7),_0x607858!=_0x20612b['length']-0x1&&_0x607858%0x2===0x1&&(_0x36ea02+=_0x3f0539(0x18f));}_0x36ea02+=_0x3f0539(0x232);}_0x448d2a[_0x3f0539(0x218)]=_0x36ea02,document[_0x3f0539(0x1c8)]['appendChild'](_0x448d2a),setHomeFunc();const _0xca8be3=document[_0x3f0539(0x199)]('.download'),_0x213cdd=document['querySelectorAll'](_0x3f0539(0x178));_0xca8be3['forEach'](_0x25a150=>{const _0x437bb3=_0x3f0539;_0x25a150[_0x437bb3(0x20d)](_0x437bb3(0x18a),()=>{const _0x299991=_0x437bb3,_0x538fe5=new Image();_0x538fe5[_0x299991(0x1eb)]=_0x25a150['nextElementSibling'][_0x299991(0x1eb)],_0x538fe5[_0x299991(0x1f3)]=function(){const _0xe3ac86=_0x299991;let _0x31af7e=new createjs[(_0xe3ac86(0x23a))]();_0x31af7e[_0xe3ac86(0x212)]['beginFill'](_0xe3ac86(0x23b))[_0xe3ac86(0x1ae)](0x0,0x0,stage['canvas']['width'],stage[_0xe3ac86(0x216)][_0xe3ac86(0x1ac)]),_0x538fe5['style'][_0xe3ac86(0x1f7)]='rotate(90deg)';const _0x4e2782=new createjs['Bitmap'](_0x538fe5),_0x8dfbd=stage['canvas'][_0xe3ac86(0x172)],_0x5b462b=stage['canvas'][_0xe3ac86(0x1ac)],_0x1d8604=_0x538fe5[_0xe3ac86(0x172)],_0x5842fa=_0x538fe5['height'],_0x1baf77=_0x8dfbd/_0x1d8604,_0xbf035=_0x5b462b/_0x5842fa,_0x633d21=Math['min'](_0x1baf77,_0xbf035);_0x4e2782[_0xe3ac86(0x171)]=_0x633d21,_0x4e2782['scaleY']=_0x633d21,_0x4e2782['x']=(_0x8dfbd-_0x1d8604*_0x633d21)/0x2,_0x4e2782['y']=(_0x5b462b-_0x5842fa*_0x633d21)/0x2,stage['children']=[],stage[_0xe3ac86(0x226)](_0x31af7e),stage[_0xe3ac86(0x226)](_0x4e2782),stage[_0xe3ac86(0x19c)]();const _0x75228d=document[_0xe3ac86(0x1a9)]('a');_0x75228d[_0xe3ac86(0x202)]=Date[_0xe3ac86(0x20e)]()+'.png',_0x75228d['href']=canvas['toDataURL']('image/png'),_0x75228d['click'](),setCanvasBackground();};});}),_0x213cdd[_0x3f0539(0x1c3)]((_0x40376d,_0x4d879b)=>{const _0x56da57=_0x3f0539,_0x19ff99=()=>{const _0x5d2cb4=_0x52b8;_0x20612b[_0x5d2cb4(0x1d2)](_0x4d879b,0x1),localStorage['setItem'](_0x5d2cb4(0x244),JSON[_0x5d2cb4(0x175)](_0x20612b)),_0x415c21[_0x5d2cb4(0x194)](),_0x1105b6();};_0x40376d[_0x56da57(0x19e)]=()=>{const _0x1f94ca=_0x56da57;openModel(_0x19ff99,{'icon':_0x1f94ca(0x1fe),'h1':_0x1f94ca(0x1bc),'btns':{'btn1':'no-btn','btn2':_0x1f94ca(0x1ce)}});};});const _0xaee62e=document[_0x3f0539(0x199)]('.home-page\x20.lib\x20img'),_0x415c21=document['querySelector'](_0x3f0539(0x238));_0xaee62e[_0x3f0539(0x1c3)]((_0x5007fa,_0x5086ea)=>{const _0x1b8d72=_0x3f0539;_0x5007fa[_0x1b8d72(0x19e)]=()=>{const _0x429e0d=_0x1b8d72,_0x486d10=new Image();_0x486d10[_0x429e0d(0x1eb)]=_0x5007fa[_0x429e0d(0x1eb)],_0x486d10[_0x429e0d(0x1f3)]=function(){readImage(_0x486d10),currDrawing=_0x20612b[_0x5086ea][0x0],isSaved=!![];},_0x415c21[_0x429e0d(0x194)]();};});};if((undoStack['length']||redoStack[_0x479a40(0x1d3)])&&!isSaved)openModel(_0x1105b6,{'icon':_0x479a40(0x1fe),'h1':_0x479a40(0x22c),'btns':{'btn1':_0x479a40(0x242),'btn2':_0x479a40(0x1ce)}});else _0x1105b6();}else openModel(()=>{},{'icon':_0x479a40(0x1f0),'h1':_0x479a40(0x187),'btns':{'btn1':_0x479a40(0x1c1)}});},![]);const spinningEffect=_0x32d007=>{const _0x39aa18=_0x2b6e82,_0x48ea89=[{'transform':_0x39aa18(0x224)},{'transform':_0x39aa18(0x17a)},{'transform':_0x39aa18(0x224)}],_0x929e68={'duration':0x3e8,'iterations':0x1};_0x32d007[_0x39aa18(0x1fc)](_0x48ea89,_0x929e68);},openModel=(_0x572e2f,_0x4ef7aa)=>{const _0x3d7e00=_0x2b6e82,_0x2753ff=document[_0x3d7e00(0x1bd)](_0x3d7e00(0x23f)),_0x5c89ff=document[_0x3d7e00(0x1bd)](_0x3d7e00(0x1fb)),_0x2f4fed=document[_0x3d7e00(0x1bd)]('.popup\x20img'),_0x1f5c79=document[_0x3d7e00(0x1bd)](_0x3d7e00(0x1f1));_0x2753ff[_0x3d7e00(0x179)][_0x3d7e00(0x1f7)]='translate(-50%,\x20-50%)',_0x2753ff[_0x3d7e00(0x179)][_0x3d7e00(0x1e2)]='999',_0x2f4fed[_0x3d7e00(0x1eb)]=_0x4ef7aa[_0x3d7e00(0x1be)],_0x1f5c79[_0x3d7e00(0x222)]=_0x4ef7aa['h1'];let _0x2a1e27='';Object[_0x3d7e00(0x1cb)](_0x4ef7aa[_0x3d7e00(0x21f)])['forEach'](_0x5116ea=>{const _0x34f854=_0x3d7e00;_0x2a1e27+=_0x34f854(0x1cc)+_0x5116ea+_0x34f854(0x1de);}),_0x5c89ff['innerHTML']=_0x2a1e27,document[_0x3d7e00(0x1c8)][_0x3d7e00(0x233)][_0x3d7e00(0x183)](_0x3d7e00(0x237)),_0x5c89ff[_0x3d7e00(0x20d)]('click',function(){const _0x5076c9=_0x3d7e00;_0x5c89ff[_0x5076c9(0x1dd)]['style']['transform']=_0x5076c9(0x243),setTimeout(()=>{const _0x4e051c=_0x5076c9;document['body']['classList'][_0x4e051c(0x194)]('popup-overlay');},0x1f4);}),_0x5c89ff['children'][0x1]?.[_0x3d7e00(0x20d)]('click',_0x572e2f);};